!function(e){function t(t){for(var i,l,s=t[0],r=t[1],d=t[2],p=0,u=[];p<s.length;p++)l=s[p],Object.prototype.hasOwnProperty.call(o,l)&&o[l]&&u.push(o[l][0]),o[l]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);for(c&&c(t);u.length;)u.shift()();return n.push.apply(n,d||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],i=!0,s=1;s<a.length;s++){var r=a[s];0!==o[r]&&(i=!1)}i&&(n.splice(t--,1),e=l(l.s=a[0]))}return e}var i={},o={app:0},n=[];function l(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=i,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(a,i,function(t){return e[t]}.bind(null,i));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var s=window.webpackJsonp=window.webpackJsonp||[],r=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var c=r;n.push([0,"chunk-vendors"]),a()}({0:function(e,t,a){e.exports=a("56d7")},"0f59":function(e,t,a){},"314e":function(e,t,a){"use strict";a("7501")},"32f9":function(e,t,a){"use strict";a("7987")},3516:function(e,t,a){"use strict";a("ca11")},"35d2":function(e,t,a){},4187:function(e,t,a){"use strict";a("35d2")},4260:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a("6b54"),a("a481");var i=function(){return Math.random().toString(16).substr(2,4)+Math.random().toString(16).substr(2,5)}},"4d7f":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es7_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("8e6e"),core_js_modules_es7_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es7_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_0__),_var_www_app_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("bd86"),_var_www_app_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("75fc"),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("456d"),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__),_GenerateFormItem__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("5531"),_util_index_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("4260");function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach((function(t){Object(_var_www_app_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}__webpack_exports__.a={name:"fm-generate-form",components:{GenetateFormItem:_GenerateFormItem__WEBPACK_IMPORTED_MODULE_5__.a},props:["data","remote","value","insite"],data:function(){return{models:{},rules:{}}},created:function(){this.generateModle(this.data.list)},mounted:function(){},methods:{generateModle:function generateModle(genList){for(var _this=this,i=0;i<genList.length;i++)"grid"===genList[i].type?genList[i].columns.forEach((function(e){_this.generateModle(e.list)})):(this.value&&Object.keys(this.value).indexOf(genList[i].model)>=0?this.models[genList[i].model]=this.value[genList[i].model]:"blank"===genList[i].type?this.$set(this.models,genList[i].model,"String"===genList[i].options.defaultType?"":"Object"===genList[i].options.defaultType?{}:[]):this.models[genList[i].model]=genList[i].options.defaultValue,this.rules[genList[i].model]?this.rules[genList[i].model]=[].concat(Object(_var_www_app_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(this.rules[genList[i].model]),Object(_var_www_app_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(genList[i].rules.map((function(item){return item.pattern?_objectSpread(_objectSpread({},item),{},{pattern:eval(item.pattern)}):_objectSpread({},item)})))):this.rules[genList[i].model]=Object(_var_www_app_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(genList[i].rules.map((function(item){return item.pattern?_objectSpread(_objectSpread({},item),{},{pattern:eval(item.pattern)}):_objectSpread({},item)}))))},getData:function(){var e=this;return new Promise((function(t,a){e.$refs.generateForm.validate((function(i){i?t(e.models):a(new Error(e.$t("fm.message.validError")).message)}))}))},reset:function(){this.$refs.generateForm.resetFields()},onInputChange:function(e,t){this.$emit("on-change",t,e,this.models)},refresh:function(){}},watch:{data:{deep:!0,handler:function(e){this.generateModle(e.list)}},value:{deep:!0,handler:function(e){this.models=_objectSpread(_objectSpread({},this.models),e)}}}}},5531:function(e,t,a){"use strict";a("8e6e"),a("ac6a"),a("456d");var i=a("bd86");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l={props:["widget","models","rules","remote"],components:{FmUpload:a("c7f0").a},data:function(){return{dataModel:this.models[this.widget.model]}},created:function(){var e=this;this.widget.options.remote&&this.remote[this.widget.options.remoteFunc]&&this.remote[this.widget.options.remoteFunc]((function(t){e.widget.options.remoteOptions=t.map((function(t){return{value:t[e.widget.options.props.value],label:t[e.widget.options.props.label],children:t[e.widget.options.props.children]}}))})),"imgupload"===this.widget.type&&this.widget.options.isQiniu&&this.remote[this.widget.options.tokenFunc]((function(t){e.widget.options.token=t}))},methods:{},watch:{dataModel:{deep:!0,handler:function(e){this.models[this.widget.model]=e,this.$emit("update:models",n(n({},this.models),{},Object(i.a)({},this.widget.model,e))),this.$emit("input-change",e,this.widget.model)}},models:{deep:!0,handler:function(e){this.dataModel=e[this.widget.model]}}}},s=a("2877"),r=Object(s.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form-item",{attrs:{label:e.widget.name,prop:e.widget.model}},["input"==e.widget.type?["number"==e.widget.options.dataType||"integer"==e.widget.options.dataType||"float"==e.widget.options.dataType?a("el-input",{style:{width:e.widget.options.width},attrs:{type:"number",placeholder:e.widget.options.placeholder,disabled:e.widget.options.disabled},model:{value:e.dataModel,callback:function(t){e.dataModel=e._n(t)},expression:"dataModel"}}):a("el-input",{style:{width:e.widget.options.width},attrs:{type:e.widget.options.dataType,disabled:e.widget.options.disabled,placeholder:e.widget.options.placeholder},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"textarea"==e.widget.type?[a("el-input",{style:{width:e.widget.options.width},attrs:{type:"textarea",rows:5,disabled:e.widget.options.disabled,placeholder:e.widget.options.placeholder},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"number"==e.widget.type?[a("el-input-number",{style:{width:e.widget.options.width},attrs:{step:e.widget.options.step,"controls-position":"right",disabled:e.widget.options.disabled},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"radio"==e.widget.type?[a("el-radio-group",{style:{width:e.widget.options.width},attrs:{disabled:e.widget.options.disabled},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}},e._l(e.widget.options.remote?e.widget.options.remoteOptions:e.widget.options.options,(function(t,i){return a("el-radio",{key:i,style:{display:e.widget.options.inline?"inline-block":"block"},attrs:{label:t.value}},[e.widget.options.remote?[e._v(e._s(t.label))]:[e._v(e._s(e.widget.options.showLabel?t.label:t.value))]],2)})),1)]:e._e(),"checkbox"==e.widget.type?[a("el-checkbox-group",{style:{width:e.widget.options.width},attrs:{disabled:e.widget.options.disabled},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}},e._l(e.widget.options.remote?e.widget.options.remoteOptions:e.widget.options.options,(function(t,i){return a("el-checkbox",{key:i,style:{display:e.widget.options.inline?"inline-block":"block"},attrs:{label:t.value}},[e.widget.options.remote?[e._v(e._s(t.label))]:[e._v(e._s(e.widget.options.showLabel?t.label:t.value))]],2)})),1)]:e._e(),"time"==e.widget.type?[a("el-time-picker",{style:{width:e.widget.options.width},attrs:{"is-range":e.widget.options.isRange,placeholder:e.widget.options.placeholder,"start-placeholder":e.widget.options.startPlaceholder,"end-placeholder":e.widget.options.endPlaceholder,readonly:e.widget.options.readonly,disabled:e.widget.options.disabled,editable:e.widget.options.editable,clearable:e.widget.options.clearable,arrowControl:e.widget.options.arrowControl,"value-format":e.widget.options.format},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"date"==e.widget.type?[a("el-date-picker",{style:{width:e.widget.options.width},attrs:{type:e.widget.options.type,placeholder:e.widget.options.placeholder,"start-placeholder":e.widget.options.startPlaceholder,"end-placeholder":e.widget.options.endPlaceholder,readonly:e.widget.options.readonly,disabled:e.widget.options.disabled,editable:e.widget.options.editable,clearable:e.widget.options.clearable,"value-format":e.widget.options.timestamp?"timestamp":e.widget.options.format,format:e.widget.options.format},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"rate"==e.widget.type?[a("el-rate",{attrs:{max:e.widget.options.max,disabled:e.widget.options.disabled,"allow-half":e.widget.options.allowHalf},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"color"==e.widget.type?[a("el-color-picker",{attrs:{disabled:e.widget.options.disabled,"show-alpha":e.widget.options.showAlpha},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"select"==e.widget.type?[a("el-select",{style:{width:e.widget.options.width},attrs:{disabled:e.widget.options.disabled,multiple:e.widget.options.multiple,clearable:e.widget.options.clearable,placeholder:e.widget.options.placeholder,filterable:e.widget.options.filterable},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}},e._l(e.widget.options.remote?e.widget.options.remoteOptions:e.widget.options.options,(function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:e.widget.options.showLabel||e.widget.options.remote?t.label:t.value}})})),1)]:e._e(),"switch"==e.widget.type?[a("el-switch",{attrs:{disabled:e.widget.options.disabled},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"slider"==e.widget.type?[a("el-slider",{style:{width:e.widget.options.width},attrs:{min:e.widget.options.min,max:e.widget.options.max,disabled:e.widget.options.disabled,step:e.widget.options.step,"show-input":e.widget.options.showInput,range:e.widget.options.range},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"imgupload"==e.widget.type?[a("fm-upload",{style:{width:e.widget.options.width},attrs:{disabled:e.widget.options.disabled,width:e.widget.options.size.width,height:e.widget.options.size.height,token:e.widget.options.token,domain:e.widget.options.domain,multiple:e.widget.options.multiple,length:e.widget.options.length,"is-qiniu":e.widget.options.isQiniu,"is-delete":e.widget.options.isDelete,min:e.widget.options.min,"is-edit":e.widget.options.isEdit,action:e.widget.options.action},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"editor"==e.widget.type?[a("vue-editor",{style:{width:e.widget.options.width},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"cascader"==e.widget.type?[a("el-cascader",{style:{width:e.widget.options.width},attrs:{disabled:e.widget.options.disabled,clearable:e.widget.options.clearable,placeholder:e.widget.options.placeholder,options:e.widget.options.remoteOptions},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"text"==e.widget.type?[a("span",[e._v(e._s(e.dataModel))])]:e._e()],2)}),[],!1,null,null,null);t.a=r.exports},"56d7":function(e,t,a){"use strict";a.r(t),a("8e6e"),a("ac6a"),a("456d");var i=a("bd86"),o=(a("cadf"),a("551c"),a("f751"),a("097d"),a("2b0e")),n=(a("7f7f"),a("a481"),{name:"app",methods:{handleHome:function(){this.$router.push({path:"/"})},handleLangCommand:function(e){this.$router.replace({name:this.$route.name,params:{lang:e}})}}}),l=(a("5c0b"),a("2877")),s=Object(l.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"fm-header"},[i("img",{staticClass:"fm-logo",attrs:{src:a("cf05")}}),i("div",{staticClass:"fm-title",on:{click:e.handleHome}},[e._v(e._s(e.$t("header.title")))]),i("iframe",{staticStyle:{"vertical-align":"middle","margin-top":"10px","margin-left":"10px"},attrs:{src:"https://ghbtns.com/github-btn.html?user=giscafer&repo=vue-form-builder&type=star&count=true",frameborder:"0",scrolling:"0",width:"160px",height:"30px"}}),i("div",{staticClass:"fm-link"},[i("a",{attrs:{target:"_blank",href:"http://docs.form.xiaoyaoji.cn"}},[e._v(e._s(e.$t("header.document")))]),i("a",{attrs:{target:"_blank",href:"https://github.com/giscafer/vue-form-builder"}},[e._v("GitHub")]),i("div",{staticClass:"action-item"},[i("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleLangCommand}},[i("span",{staticClass:"el-dropdown-link"},[e._v("\n            "+e._s("zh-CN"==e.$route.params.lang?"简体中文":"English")+"\n            "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"zh-CN"}},[e._v("简体中文")]),i("el-dropdown-item",{attrs:{command:"en-US"}},[e._v("English")])],1)],1)],1)])]),i("div",{staticClass:"fm-container"},[i("router-view")],1)])}),[],!1,null,null,null).exports,r=a("8c4f"),d={mounted:function(){}},c=Object(l.a)(d,(function(){var e=this.$createElement,t=this._self._c||e;return t("fm-making-form",{ref:"makingForm",attrs:{upload:"",preview:"","generate-code":"","generate-json":"",clearable:""}},[t("template",{slot:"action"})],2)}),[],!1,null,null,null).exports,p={created:function(){this.loadLanguage()},methods:{loadLanguage:function(){"zh-CN"==this.$route.params.lang?(o.default.config.lang="zh-CN",localStorage.setItem("language","zh-CN")):"en-US"==this.$route.params.lang?(o.default.config.lang="en-US",localStorage.setItem("language","en-US")):this.$router.replace({name:this.$route.name,params:{lang:"zh-CN"==navigator.language?"zh-CN":"en-US"}})}},watch:{"$route.params.lang":function(e){this.loadLanguage()}}},u=Object(l.a)(p,(function(){var e=this.$createElement;return(this._self._c||e)("router-view")}),[],!1,null,null,null).exports;o.default.use(r.a);var m,f,h,g=localStorage.getItem("language")||("zh-CN"==navigator.language?"zh-CN":"en-US"),b=new r.a({routes:[{path:"/",redirect:function(e){return{name:"index",params:{lang:g}}}},{path:"/:lang",component:u,children:[{path:"",name:"index",component:c}]}]}),y=a("5c96"),w=a.n(y),v=a("08a3"),_=a.n(v),O=a("5873"),x=a("eff4"),k=a.n(x),j=(a("0fae"),a("b2d6")),$=a.n(j),C=a("f0d9"),P=a.n(C),S=(a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("6b54"),a("75fc"));function M(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return T(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?T(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,l=!0,s=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){s=!0,n=e},f:function(){try{l||null==a.return||a.return()}finally{if(s)throw n}}}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function E(e){return'\n        <el-form-item label="'.concat(e.name,'" prop="').concat(e.model,'">\n          ').concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="",i=e.options,o=i.arrowControl,n=i.clearable,l=i.dataType,s=i.disabled,r=i.editable,d=i.format,c=i.inline,p=i.isRange,u=i.options,m=i.placeholder,f=i.remote,h=i.remoteOptions,g=i.readonly,b=i.step,y=i.showLabel,w=i.type,v=i.width,_="".concat(t?"models":"dataModel",".").concat(e.model);if(m||(m="请输入"),"input"===e.type){var O="text";"number"!==l&&"integer"!==l&&"float"!==l||(O="number"),a+='<el-input\n          type="'.concat(O,'"\n          v-model').concat("number"===O?".number":"",'="').concat(_,'"\n          placeholder="').concat(m,'"\n          :style="{width:\'').concat(v,'\'}"\n          :disabled="').concat(s,'"\n        ></el-input>')}else if("textarea"===e.type)a+='<el-input\n          type="textarea"\n          :rows="5"\n          v-model="'.concat(_,'"\n          placeholder="').concat(m||"",'"\n          :style="{width:\'').concat(v,'\'}"\n          :disabled="').concat(s,'"\n          ></el-input>');else if("number"===e.type)a+='<el-input-number\n          v-model="'.concat(_,'"\n          placeholder="').concat(m||"",'"\n          :step="').concat(b,'"\n          :style="{width:\'').concat(v,'\'}"\n          :disabled="').concat(s,'"\n          ></el-input-number>');else if("radio"===e.type){var x=f?h:u,k=function(){var e,t="",a=M(x);try{for(a.s();!(e=a.n()).done;){var i=e.value;t+="\n        <el-radio\n            :style=\"{display:'".concat(c?"inline-block":"block",'\' }"\n            label="').concat(i.value,'"\n            key="').concat(i.value,'">\n            ').concat(f||y?i.label:i.value,"\n          </el-radio>")}}catch(e){a.e(e)}finally{a.f()}return t};a+='<el-radio-group\n          v-model="'.concat(_,'"\n          :style="{width:\'').concat(v,'\'}"\n          :disabled="').concat(s,'" >\n              ').concat(k(),"\n      </el-radio-group>")}else if("checkbox"===e.type){var j=f?h:u,$=function(){var e,t="",a=M(j);try{for(a.s();!(e=a.n()).done;){var i=e.value;t+="\n        <el-checkbox\n            :style=\"{display:'".concat(c?"inline-block":"block",'\' }"\n            label="').concat(i.value,'"\n            key="').concat(i.value,'">\n            ').concat(f||y?i.label:i.value,"\n          </el-checkbox>\n          ")}}catch(e){a.e(e)}finally{a.f()}return t};a+='<el-checkbox-group\n          v-model="'.concat(_,'"\n          :style="{width:\'').concat(v,'\'}"\n          :disabled="').concat(s,'" >\n              ').concat($(),"\n      </el-checkbox-group>")}else if("time"===e.type)a+='<el-time-picker\n          v-model="'.concat(_,'"\n          :is-range="').concat(p,'"\n          placeholder="').concat(m||"",'"\n          start-placeholder="').concat(e.options.startPlaceholder||"开始时间",'"\n          end-placeholder="').concat(e.options.endPlaceholder||"结束时间",'"\n          :readonly="').concat(g,'"\n          :disabled="').concat(s,'"\n          :editable="').concat(r,'"\n          :clearable="').concat(n,'"\n          :arrowControl="').concat(o,'"\n          value-format="').concat(d,'"\n          :style="{width:\'').concat(v,"'}\"\n          ></el-time-picker>");else if("date"===e.type)a+='<el-date-picker\n          v-model="'.concat(_,'"\n          type="').concat(w,'"\n          :is-range="').concat(p,'"\n          placeholder="').concat(m||"",'"\n          start-placeholder="').concat(e.options.startPlaceholder||"开始",'"\n          end-placeholder="').concat(e.options.endPlaceholder||"结束",'"\n          :readonly="').concat(g,'"\n          :disabled="').concat(s,'"\n          :editable="').concat(r,'"\n          :clearable="').concat(n,'"\n          :arrowControl="').concat(o,'"\n          value-format="').concat(d,'"\n          :style="{width:\'').concat(v,"'}\"\n          ></el-date-picker>");else if("rate"===e.type)a+='<el-rate\n          :rows="5"\n          v-model="'.concat(_,'"\n          placeholder="').concat(m||"",'"\n          :max="').concat(e.options.max,'"\n          :disabled="').concat(s,'"\n          :allow-half="').concat(e.options.allowHalf,'"\n          ></el-rate>');else if("color"===e.type)a+='<el-color-picker\n          v-model="'.concat(_,'"\n          :disabled="').concat(s,'"\n          :show-alpha="').concat(e.options.showAlpha,'"\n          ></el-color-picker>');else if("select"===e.type){var C=f?h:u,P=function(){var e,t="",a=M(C);try{for(a.s();!(e=a.n()).done;){var i=e.value;t+='\n        <el-option\n            value="'.concat(i.value,'"\n            key="').concat(i.value,'"\n            label="').concat(y||f?i.label:i.value,'">\n          </el-option>\n          ')}}catch(e){a.e(e)}finally{a.f()}return t};a+='<el-select\n          v-model="'.concat(_,'"\n          placeholder="').concat(m||"",'"\n          :style="{width:\'').concat(v,'\'}"\n          :multiple="').concat(e.options.multiple,'"\n          :filterable="').concat(e.options.filterable,'"\n          :clearable="').concat(n,'"\n          :disabled="').concat(s,'" >\n              ').concat(P(),"\n      </el-select>")}else if("switch"===e.type)a+='<el-switch\n          v-model="'.concat(_,'"\n          :disabled="').concat(s,'"\n          ></el-switch>');else if("slider"===e.type)a+='<el-slider\n        v-model="'.concat(_,'"\n        :disabled="').concat(s,'"\n        :min="').concat(e.options.min,'"\n        :max="').concat(e.options.max,'"\n        :step="').concat(e.options.step,'"\n        :show-input="').concat(e.options.showInput,'"\n        :range="').concat(e.options.range,'"\n        :style="{width:\'').concat(v,"'}\"></el-slider>");else if("imgupload"===e.type)a+='<fm-upload\n        v-model="'.concat(_,'"\n        :disabled="').concat(s,'"\n        :style="{width:\'').concat(v,'\'}"\n        width="').concat(e.options.size.width,'"\n        height="').concat(e.options.size.height,'"\n        token="').concat(e.options.token,'"\n        domain="').concat(e.options.domain,'"\n        :multiple="').concat(e.options.multiple,'"\n        :length="').concat(e.options.length,'"\n        :is-qiniu="').concat(e.options.isQiniu,'"\n        :is-delete="').concat(e.options.isDelete,'"\n        :min="').concat(e.options.min,'"\n        :is-edit="').concat(e.options.isEdit,'"\n        action="').concat(e.options.action,'"\n      ></fm-upload>');else if("cascader"===e.type)a+='<vue-editor\n        v-model="'.concat(_,'"\n        :style="{width:\'').concat(v,'\'}""></vue-editor>');else if("cascader"===e.type)a+=' <el-cascader\n    v-model="'.concat(_,'"\n    :disabled="').concat(s,'"\n    :clearable="').concat(n,'"\n    placeholder="').concat(m||"",'"\n    :style="{width:\'').concat(v,'\'}"\n    :options="').concat(JSON.stringify(h),'"\n  ></el-cascader>');else if("text"===e.type)a+="<span>{{".concat(_,"}}</span>");else if("table"===e.type){var S=function(){var t,a="",i=M(e.options.columns);try{for(i.s();!(t=i.n()).done;){var o=t.value;a+='\n        <el-table-column\n            prop="'.concat(o.field,'"\n            label="').concat(o.label,'"\n            ').concat(o.width?":style=\"{width:'"+o.width+"'}\"":"",">\n          </el-table-column>\n          ")}}catch(e){i.e(e)}finally{i.f()}return a};a+=' <el-table\n    :data="'.concat(_,'"\n    ').concat(e.options.height&&'height="'+e.options.height+'"','\n    :border="').concat(e.options.border,'"\n    :stripe="').concat(e.options.stripe,'"\n    ').concat(e.options.width?":style=\"{width:'"+e.options.width+"'}\"":"",">").concat(S(),"</el-table>")}return a}(e,!0),"\n        </el-form-item>\n    ")}function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function A(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return L(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?L(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,l=!0,s=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){s=!0,n=e},f:function(){try{l||null==a.return||a.return()}finally{if(s)throw n}}}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function I(e,t){m={},f={},h={};var a=function e(t,a){for(var i=0;i<t.length;i++)"grid"===t[i].type?t[i].columns.forEach((function(t){e(t.list)})):(a&&Object.keys(a).indexOf(t[i].model)>=0?m[t[i].model]=a[t[i].model]:"blank"===t[i].type?$set(m,t[i].model,"String"===t[i].options.defaultType?"":"Object"===t[i].options.defaultType?{}:[]):m[t[i].model]=t[i].options.defaultValue,h[t[i].model]=m[t[i].model],f[t[i].model]?f[t[i].model]=[].concat(Object(S.a)(f[t[i].model]),Object(S.a)(t[i].rules.map((function(e){return e.pattern?V(V({},e),{},{pattern:encodeURI(e.pattern)}):V({},e)})))):f[t[i].model]=Object(S.a)(t[i].rules.map((function(e){return e.pattern?V(V({},e),{},{pattern:encodeURI(e.pattern)}):V({},e)}))));return{models:m,rules:f,dataModel:h}}(e.list,t);Object.assign(m,a.models),Object.assign(f,a.rules),Object.assign(h,a.dataModel);var i,o='<template>\n    <div>\n      <el-form\n        ref="generateForm"\n        label-suffix=":"\n        size="'.concat(e.config.size,'"\n        :model="').concat("models",'"\n        :rules="rules"\n        label-position="').concat(e.config.labelPosition,'"\n        label-width="').concat(e.config.labelWidth+"px",' "\n      >'),n=A(e.list);try{for(n.s();!(i=n.n()).done;){var l=i.value;if("grid"===l.type){var s=l;o+='<el-row\n      key="'.concat(s.key,'"\n      type="flex"\n      :gutter="').concat(s.options.gutter?s.options.gutter:0,'"\n      justify="').concat(s.options.justify,'"\n      align="').concat(s.options.align,'"\n    >'),s.columns.forEach((function(e,t){o+=' <el-col key="'.concat(t,'" :span="').concat(e.span,'">\n        ').concat(e.list.reduce((function(e,t){return e+E(t)}),""),"\n    </el-col>")})),o+="</el-row>"}else o+=E(l)}}catch(e){n.e(e)}finally{n.f()}o+="</el-form>\n    </div>\n  </template>";var r="<script>\n    export default {\n      name:'form-builder',\n        data() {\n          return {\n            ".concat("models",": ").concat(JSON.stringify(m),",\n            rules: ").concat(function(e){var t,a,i=/"([^"]*)"/g,o=e;return(t=e.match(/("pattern":)(.*?)((",)|(" ,))/g))?(a=t.map((function(e){return decodeURI(e.replace(i,"$1"))})),t.map((function(t,i){-1!==e.indexOf(t)&&(o=o.replace(t,a[i]))})),o):o}(JSON.stringify(f)),",\n            ").concat("dataModel",": ").concat(JSON.stringify(h),',\n          };\n        },\n        created() {\n            console.log("***SUCCESS***");\n        },\n        methods: {}\n    }\n    <\/script>');return o+"\r\n"+r+"\r\n"}a("4917");var z={name:"code-run",props:["data","remote","value","insite"],data:function(){return{code:'<template>\n<div>\n  <h1>{{ title }}</h1>\n</div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      title: "FormBuilder"\n    }\n  },\n  methods: {\n  }\n};\n<\/script>\n<style lang="scss">\n  body {\n    #box {\n      color: #409EFF;\n    }\n  }\n</style>'}},created:function(){var e=I(this.data,this.value);this.code=encodeURIComponent(e)}},F=Object(l.a)(z,(function(){var e=this.$createElement;return(this._self._c||e)("vue-run-sfc",{attrs:{title:"实时预览",code:this.code}})}),[],!1,null,null,null).exports;o.default.component("code-run",F),a("f5df"),a("3b2b");var q=a("b76a"),R=a.n(q),W={props:["data"],data:function(){return{required:{required:!1,errorMsg:""},dataType:{required:!1,errorMsg:""},pattern:{required:!1,errorMsg:""},dataTypes:["string","number","boolean","integer","float","url","email","hex"]}},computed:{dataTypesOptions:function(){return this.data.options.dataTypes||this.dataTypes}},mounted:function(){},methods:{label:function(e){var t="fm.config.widget.".concat(e),a=this.$t(t);return a===t?e:a},changeRequire:function(){var e=(this.data.rules||[]).filter((function(e){return Object.keys(e).indexOf("required")>=0}))[0],t=e?e.message:void 0,a=!(!this.data.options||!this.data.options.required);this.required={required:a,errorMsg:t||"".concat(this.data.name," ").concat(this.$t("fm.config.widget.validatorRequired"))},this.$emit("validateRequired",this.required.required,this.required.errorMsg)},changeDataType:function(){var e=(this.data.rules||[]).filter((function(e){return Object.keys(e).indexOf("type")>=0}))[0],t=e?e.message:void 0,a=!(!this.data.options||!this.data.options.dataType);this.dataType={required:a,errorMsg:t||"".concat(this.data.name," ").concat(this.$t("fm.config.widget.validatorType"))},this.$emit("validateDataType",this.dataType.required,this.dataType.errorMsg)}},created:function(){this.changeRequire(),this.changeDataType()},watch:{"required.required":function(e){this.data.options.required=e,this.$emit("validateRequired",this.data.options.required,this.required.errorMsg)},"dataType.required":function(e){void 0!==this.data.options.dataType&&(this.data.options.dataType=e?this.data.options.dataType:"",this.$emit("validateDataType",this.data.options.dataType,this.dataType.errorMsg))},"pattern.required":function(e){this.data.options.pattern=e?this.data.options.pattern:"",this.$emit("valiatePattern",this.data.options.pattern)},"required.errorMsg":function(e){this.$emit("validateRequired",this.data.options.required,e)},"dataType.errorMsg":function(e){this.$emit("validateDataType",this.data.options.dataType,e)},"pattern.errorMsg":function(e){this.$emit("valiatePattern",this.data.options.pattern,e)},"data.model":function(){this.changeRequire(),this.changeDataType()},"data.name":function(){this.changeRequire(),this.changeDataType()},"data.options.dataType":function(e){void 0===e&&(this.dataType.errorMsg=""),this.$emit("validateDataType",this.data.options.dataType,this.dataType.errorMsg)},"data.options.pattern":function(e){void 0===e&&(this.pattern.errorMsg=""),this.$emit("valiatePattern",this.data.options.pattern,this.pattern.errorMsg)}}},B=(a("4187"),Object(l.a)(W,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"validate-rule"},[Object.keys(e.data.options).indexOf("required")>=0?a("div",[a("el-checkbox",{model:{value:e.required.required,callback:function(t){e.$set(e.required,"required",t)},expression:"required.required"}},[e._v(e._s(e.$t("fm.config.widget.required")))]),a("el-input",{staticStyle:{width:"240px"},attrs:{size:"mini",disabled:!e.required.required,placeholder:e.$t("fm.config.widget.errorExplain")},model:{value:e.required.errorMsg,callback:function(t){e.$set(e.required,"errorMsg",t)},expression:"required.errorMsg"}})],1):e._e(),Object.keys(e.data.options).indexOf("dataType")>=0?a("div",[a("span",{staticClass:"sub-text"},[e._v(e._s(e.$t("fm.config.widget.normalValidatorName")))]),a("el-checkbox",{model:{value:e.dataType.required,callback:function(t){e.$set(e.dataType,"required",t)},expression:"dataType.required"}}),a("el-select",{staticStyle:{"padding-left":"10px"},attrs:{disabled:!e.dataType.required,size:"mini"},model:{value:e.data.options.dataType,callback:function(t){e.$set(e.data.options,"dataType",t)},expression:"data.options.dataType"}},e._l(e.dataTypesOptions,(function(t){return a("el-option",{key:t,attrs:{value:t,label:e.label(t)}})})),1),a("el-input",{staticStyle:{width:"240px"},attrs:{size:"mini",disabled:!e.dataType.required,placeholder:e.$t("fm.config.widget.errorExplain")},model:{value:e.dataType.errorMsg,callback:function(t){e.$set(e.dataType,"errorMsg",t)},expression:"dataType.errorMsg"}})],1):e._e(),Object.keys(e.data.options).indexOf("pattern")>=0?a("div",[a("span",{staticClass:"sub-text"},[e._v(e._s(e.$t("fm.config.widget.patternValidatorName")))]),a("el-checkbox",{model:{value:e.pattern.required,callback:function(t){e.$set(e.pattern,"required",t)},expression:"pattern.required"}}),a("el-input",{staticStyle:{width:"240px","padding-left":"10px"},attrs:{size:"mini",disabled:!e.pattern.required,placeholder:e.$t("fm.config.widget.patternPlaceholder")},model:{value:e.data.options.pattern,callback:function(t){e.$set(e.data.options,"pattern",t)},expression:"data.options.pattern"}}),a("el-input",{staticStyle:{width:"240px"},attrs:{size:"mini",disabled:!e.pattern.required,placeholder:e.$t("fm.config.widget.errorExplain")},model:{value:e.pattern.errorMsg,callback:function(t){e.$set(e.pattern,"errorMsg",t)},expression:"pattern.errorMsg"}})],1):e._e()])}),[],!1,null,null,null).exports),U={components:{Draggable:R.a,ValidateRule:B},props:["data"],data:function(){return{validator:{type:null,required:null,pattern:null,range:null,length:null}}},computed:{show:function(){return!!(this.data&&Object.keys(this.data).length>0)}},methods:{handleOptionsRemove:function(e){"grid"===this.data.type?this.data.columns.splice(e,1):this.data.options.options.splice(e,1)},handleAddOption:function(){this.data.options.showLabel?this.data.options.options.push({value:this.$t("fm.config.widget.newOption"),label:this.$t("fm.config.widget.newOption")}):this.data.options.options.push({value:this.$t("fm.config.widget.newOption")})},handleAddColumn:function(){this.data.columns.push({span:"",list:[]})},generateRule:function(){var e=this;this.data.rules=[],Object.keys(this.validator).forEach((function(t){e.validator[t]&&e.data.rules.push(e.validator[t])}))},handleSelectMuliple:function(e){e?this.data.options.defaultValue?this.data.options.defaultValue=[this.data.options.defaultValue]:this.data.options.defaultValue=[]:this.data.options.defaultValue.length>0?this.data.options.defaultValue=this.data.options.defaultValue[0]:this.data.options.defaultValue=""},validateRequired:function(e,t){var a=this;this.validator.required=e?{required:!0,message:t||"".concat(this.data.name," ").concat(this.$t("fm.config.widget.validatorRequired"))}:null,this.$nextTick((function(){a.generateRule()}))},validateDataType:function(e,t){if(!this.show)return!1;this.validator.type=e?{type:e,message:t||"".concat(this.data.name," ").concat(this.$t("fm.config.widget.validatorType"))}:null,this.generateRule()},valiatePattern:function(e,t){if(!this.show)return!1;this.validator.pattern=e?{pattern:e,message:t||this.$t("fm.config.widget.validatorPattern")}:null,this.generateRule()}},watch:{"data.options.isRange":function(e){void 0!==e&&(e?this.data.options.defaultValue=null:Object.keys(this.data.options).indexOf("defaultValue")>=0&&(this.data.options.defaultValue=""))},"data.name":function(e){if(this.data.options){var t=(this.data.rules||[]).filter((function(e){return Object.keys(e).indexOf("required")>=0}))[0],a=t?t.message:void 0;this.validateRequired(this.data.options.required,a);var i=(this.data.rules||[]).filter((function(e){return Object.keys(e).indexOf("type")>=0}))[0],o=i?i.message:void 0;this.validateDataType(this.data.options.dataType,o),this.valiatePattern(this.data.options.pattern)}}}},N=Object(l.a)(U,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.show?a("div",[e.data.error?a("div",[a("div",{staticClass:"alert alert-warning"},[e._v("\n      This element is error or not yet supported.\n    ")])]):a("el-form",{attrs:{"label-position":"top"}},["grid"!=e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.model")}},[a("el-input",{model:{value:e.data.model,callback:function(t){e.$set(e.data,"model",t)},expression:"data.model"}})],1):e._e(),"grid"!=e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.name")}},[a("el-input",{model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})],1):e._e(),Object.keys(e.data.options).indexOf("defaultValue")>=0&&("textarea"==e.data.type||"input"==e.data.type||"rate"==e.data.type||"color"==e.data.type||"switch"==e.data.type||"number"==e.data.type)?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.defaultValue")}},["textarea"==e.data.type?a("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e(),"input"==e.data.type?a("el-input",{model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e(),"number"==e.data.type?a("el-input",{attrs:{type:"number","allow-half":!0},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e(),"rate"==e.data.type?a("el-rate",{staticStyle:{display:"inline-block","vertical-align":"middle"},attrs:{max:e.data.options.max,"allow-half":e.data.options.allowHalf},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e(),"rate"==e.data.type?a("el-button",{staticStyle:{display:"inline-block","vertical-align":"middle","margin-left":"10px"},attrs:{type:"text"},on:{click:function(t){e.data.options.defaultValue=0}}},[e._v(e._s(e.$t("fm.actions.clear")))]):e._e(),"color"==e.data.type?a("el-color-picker",{attrs:{"show-alpha":e.data.options.showAlpha},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e(),"switch"==e.data.type?a("el-switch",{model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e()],1):e._e(),Object.keys(e.data.options).indexOf("width")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.width")}},[a("el-input",{model:{value:e.data.options.width,callback:function(t){e.$set(e.data.options,"width",t)},expression:"data.options.width"}})],1):e._e(),Object.keys(e.data.options).indexOf("height")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.height")}},[a("el-input",{model:{value:e.data.options.height,callback:function(t){e.$set(e.data.options,"height",t)},expression:"data.options.height"}})],1):e._e(),Object.keys(e.data.options).indexOf("size")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.size")}},[e._v("\n      "+e._s(e.$t("fm.config.widget.width"))+"\n      "),a("el-input",{staticStyle:{width:"90px"},attrs:{type:"number"},model:{value:e.data.options.size.width,callback:function(t){e.$set(e.data.options.size,"width",e._n(t))},expression:"data.options.size.width"}}),e._v("\n      "+e._s(e.$t("fm.config.widget.height"))+"\n      "),a("el-input",{staticStyle:{width:"90px"},attrs:{type:"number"},model:{value:e.data.options.size.height,callback:function(t){e.$set(e.data.options.size,"height",e._n(t))},expression:"data.options.size.height"}})],1):e._e(),Object.keys(e.data.options).indexOf("placeholder")>=0&&("time"!=e.data.type||"date"!=e.data.type)?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.placeholder")}},[a("el-input",{model:{value:e.data.options.placeholder,callback:function(t){e.$set(e.data.options,"placeholder",t)},expression:"data.options.placeholder"}})],1):e._e(),Object.keys(e.data.options).indexOf("inline")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.layout")}},[a("el-radio-group",{model:{value:e.data.options.inline,callback:function(t){e.$set(e.data.options,"inline",t)},expression:"data.options.inline"}},[a("el-radio-button",{attrs:{label:!1}},[e._v(e._s(e.$t("fm.config.widget.block")))]),a("el-radio-button",{attrs:{label:!0}},[e._v(e._s(e.$t("fm.config.widget.inline")))])],1)],1):e._e(),Object.keys(e.data.options).indexOf("showInput")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.showInput")}},[a("el-switch",{model:{value:e.data.options.showInput,callback:function(t){e.$set(e.data.options,"showInput",t)},expression:"data.options.showInput"}})],1):e._e(),Object.keys(e.data.options).indexOf("min")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.min")}},[a("el-input-number",{attrs:{min:0,max:100,step:1},model:{value:e.data.options.min,callback:function(t){e.$set(e.data.options,"min",t)},expression:"data.options.min"}})],1):e._e(),Object.keys(e.data.options).indexOf("max")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.max")}},[a("el-input-number",{attrs:{min:0,max:100,step:1},model:{value:e.data.options.max,callback:function(t){e.$set(e.data.options,"max",t)},expression:"data.options.max"}})],1):e._e(),Object.keys(e.data.options).indexOf("step")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.step")}},[a("el-input-number",{attrs:{min:0,max:100,step:1},model:{value:e.data.options.step,callback:function(t){e.$set(e.data.options,"step",t)},expression:"data.options.step"}})],1):e._e(),"select"==e.data.type||"imgupload"==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.multiple")}},[a("el-switch",{on:{change:e.handleSelectMuliple},model:{value:e.data.options.multiple,callback:function(t){e.$set(e.data.options,"multiple",t)},expression:"data.options.multiple"}})],1):e._e(),"select"==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.filterable")}},[a("el-switch",{model:{value:e.data.options.filterable,callback:function(t){e.$set(e.data.options,"filterable",t)},expression:"data.options.filterable"}})],1):e._e(),Object.keys(e.data.options).indexOf("allowHalf")>=0?a("el-form-item",{attrs:{label:"$t('fm.config.widget.allowHalf')"}},[a("el-switch",{model:{value:e.data.options.allowHalf,callback:function(t){e.$set(e.data.options,"allowHalf",t)},expression:"data.options.allowHalf"}})],1):e._e(),Object.keys(e.data.options).indexOf("showAlpha")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.showAlpha")}},[a("el-switch",{model:{value:e.data.options.showAlpha,callback:function(t){e.$set(e.data.options,"showAlpha",t)},expression:"data.options.showAlpha"}})],1):e._e(),Object.keys(e.data.options).indexOf("showLabel")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.showLabel")}},[a("el-switch",{model:{value:e.data.options.showLabel,callback:function(t){e.$set(e.data.options,"showLabel",t)},expression:"data.options.showLabel"}})],1):e._e(),Object.keys(e.data.options).indexOf("options")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.option")}},[Object.keys(e.data.options).indexOf("remoteFunc")>=0?a("el-radio-group",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"mini"},model:{value:e.data.options.remote,callback:function(t){e.$set(e.data.options,"remote",t)},expression:"data.options.remote"}},[a("el-radio-button",{attrs:{label:!1}},[e._v(e._s(e.$t("fm.config.widget.staticData")))]),a("el-radio-button",{attrs:{label:!0}},[e._v(e._s(e.$t("fm.config.widget.remoteData")))])],1):e._e(),e.data.options.remote?[a("div",[a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.remoteFunc,callback:function(t){e.$set(e.data.options,"remoteFunc",t)},expression:"data.options.remoteFunc"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.remoteFunc")))])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.props.value,callback:function(t){e.$set(e.data.options.props,"value",t)},expression:"data.options.props.value"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.value")))])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.props.label,callback:function(t){e.$set(e.data.options.props,"label",t)},expression:"data.options.props.label"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.label")))])],2)],1)]:["radio"==e.data.type||"select"==e.data.type&&!e.data.options.multiple?[a("el-radio-group",{model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}},[a("draggable",e._b({attrs:{tag:"ul",list:e.data.options.options,handle:".drag-item"}},"draggable",{group:{name:"options"},ghostClass:"ghost",handle:".drag-item"},!1),e._l(e.data.options.options,(function(t,i){return a("li",{key:i},[a("el-radio",{staticStyle:{"margin-right":"5px"},attrs:{label:t.value}},[a("el-input",{style:{width:e.data.options.showLabel?"90px":"180px"},attrs:{size:"mini"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}),e.data.options.showLabel?a("el-input",{staticStyle:{width:"90px"},attrs:{size:"mini"},model:{value:t.label,callback:function(a){e.$set(t,"label",a)},expression:"item.label"}}):e._e()],1),a("i",{staticClass:"drag-item",staticStyle:{"font-size":"16px",margin:"0 5px",cursor:"move"}},[a("i",{staticClass:"iconfont icon-icon_bars"})]),a("el-button",{staticStyle:{padding:"4px","margin-left":"5px"},attrs:{circle:"",plain:"",type:"danger",size:"mini",icon:"el-icon-minus"},on:{click:function(t){return e.handleOptionsRemove(i)}}})],1)})),0)],1)]:e._e(),"checkbox"==e.data.type||"select"==e.data.type&&e.data.options.multiple?[a("el-checkbox-group",{model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}},[a("draggable",e._b({attrs:{tag:"ul",list:e.data.options.options,handle:".drag-item"}},"draggable",{group:{name:"options"},ghostClass:"ghost",handle:".drag-item"},!1),e._l(e.data.options.options,(function(t,i){return a("li",{key:i},[a("el-checkbox",{staticStyle:{"margin-right":"5px"},attrs:{label:t.value}},[a("el-input",{style:{width:e.data.options.showLabel?"90px":"180px"},attrs:{size:"mini"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}),e.data.options.showLabel?a("el-input",{staticStyle:{width:"90px"},attrs:{size:"mini"},model:{value:t.label,callback:function(a){e.$set(t,"label",a)},expression:"item.label"}}):e._e()],1),a("i",{staticClass:"drag-item",staticStyle:{"font-size":"16px",margin:"0 5px",cursor:"move"}},[a("i",{staticClass:"iconfont icon-icon_bars"})]),a("el-button",{staticStyle:{padding:"4px","margin-left":"5px"},attrs:{circle:"",plain:"",type:"danger",size:"mini",icon:"el-icon-minus"},on:{click:function(t){return e.handleOptionsRemove(i)}}})],1)})),0)],1)]:e._e(),a("div",{staticStyle:{"margin-left":"22px"}},[a("el-button",{attrs:{type:"text"},on:{click:e.handleAddOption}},[e._v(e._s(e.$t("fm.actions.addOption")))])],1)]],2):e._e(),"cascader"==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.remoteData")}},[a("div",[a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.remoteFunc,callback:function(t){e.$set(e.data.options,"remoteFunc",t)},expression:"data.options.remoteFunc"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.remoteFunc")))])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.props.value,callback:function(t){e.$set(e.data.options.props,"value",t)},expression:"data.options.props.value"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.value")))])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.props.label,callback:function(t){e.$set(e.data.options.props,"label",t)},expression:"data.options.props.label"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.label")))])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.props.children,callback:function(t){e.$set(e.data.options.props,"children",t)},expression:"data.options.props.children"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.childrenOption")))])],2)],1)]):e._e(),"time"==e.data.type||"date"==e.data.type?["date"==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.showType")}},[a("el-select",{model:{value:e.data.options.type,callback:function(t){e.$set(e.data.options,"type",t)},expression:"data.options.type"}},[a("el-option",{attrs:{value:"year"}}),a("el-option",{attrs:{value:"month"}}),a("el-option",{attrs:{value:"date"}}),a("el-option",{attrs:{value:"dates"}}),a("el-option",{attrs:{value:"datetime"}}),a("el-option",{attrs:{value:"datetimerange"}}),a("el-option",{attrs:{value:"daterange"}})],1)],1):e._e(),"time"==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.isRange")}},[a("el-switch",{model:{value:e.data.options.isRange,callback:function(t){e.$set(e.data.options,"isRange",t)},expression:"data.options.isRange"}})],1):e._e(),"date"==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.isTimestamp")}},[a("el-switch",{model:{value:e.data.options.timestamp,callback:function(t){e.$set(e.data.options,"timestamp",t)},expression:"data.options.timestamp"}})],1):e._e(),!e.data.options.isRange&&"time"==e.data.type||"time"!=e.data.type&&"datetimerange"!=e.data.options.type&&"daterange"!=e.data.options.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.placeholder")}},[a("el-input",{model:{value:e.data.options.placeholder,callback:function(t){e.$set(e.data.options,"placeholder",t)},expression:"data.options.placeholder"}})],1):e._e(),e.data.options.isRange||"datetimerange"==e.data.options.type||"daterange"==e.data.options.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.startPlaceholder")}},[a("el-input",{model:{value:e.data.options.startPlaceholder,callback:function(t){e.$set(e.data.options,"startPlaceholder",t)},expression:"data.options.startPlaceholder"}})],1):e._e(),e.data.options.isRange||"datetimerange"==e.data.options.type||"daterange"==e.data.options.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.endPlaceholder")}},[a("el-input",{model:{value:e.data.options.endPlaceholder,callback:function(t){e.$set(e.data.options,"endPlaceholder",t)},expression:"data.options.endPlaceholder"}})],1):e._e(),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.format")}},[a("el-input",{model:{value:e.data.options.format,callback:function(t){e.$set(e.data.options,"format",t)},expression:"data.options.format"}})],1),"time"==e.data.type&&Object.keys(e.data.options).indexOf("isRange")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.defaultValue")}},[e.data.options.isRange?e._e():a("el-time-picker",{key:"1",staticStyle:{width:"100%"},attrs:{arrowControl:e.data.options.arrowControl,"value-format":e.data.options.format},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}),e.data.options.isRange?a("el-time-picker",{key:"2",staticStyle:{width:"100%"},attrs:{"is-range":"",arrowControl:e.data.options.arrowControl,"value-format":e.data.options.format},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e()],1):e._e()]:e._e(),"imgupload"==e.data.type?[a("el-form-item",{attrs:{label:e.$t("fm.config.widget.limit")}},[a("el-input",{attrs:{type:"number"},model:{value:e.data.options.length,callback:function(t){e.$set(e.data.options,"length",e._n(t))},expression:"data.options.length"}})],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.isQiniu")}},[a("el-switch",{model:{value:e.data.options.isQiniu,callback:function(t){e.$set(e.data.options,"isQiniu",t)},expression:"data.options.isQiniu"}})],1),e.data.options.isQiniu?[a("el-form-item",{attrs:{label:"Domain",required:!0}},[a("el-input",{model:{value:e.data.options.domain,callback:function(t){e.$set(e.data.options,"domain",t)},expression:"data.options.domain"}})],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.tokenFunc"),required:!0}},[a("el-input",{model:{value:e.data.options.tokenFunc,callback:function(t){e.$set(e.data.options,"tokenFunc",t)},expression:"data.options.tokenFunc"}})],1)]:[a("el-form-item",{attrs:{label:e.$t("fm.config.widget.imageAction"),required:!0}},[a("el-input",{model:{value:e.data.options.action,callback:function(t){e.$set(e.data.options,"action",t)},expression:"data.options.action"}})],1)]]:e._e(),"blank"==e.data.type?[a("el-form-item",{attrs:{label:e.$t("fm.config.widget.defaultType")}},[a("el-select",{model:{value:e.data.options.defaultType,callback:function(t){e.$set(e.data.options,"defaultType",t)},expression:"data.options.defaultType"}},[a("el-option",{attrs:{value:"String",label:e.$t("fm.config.widget.string")}}),a("el-option",{attrs:{value:"Object",label:e.$t("fm.config.widget.object")}}),a("el-option",{attrs:{value:"Array",label:e.$t("fm.config.widget.array")}})],1)],1)]:e._e(),"grid"==e.data.type?[a("el-form-item",{attrs:{label:e.$t("fm.config.widget.gutter")}},[a("el-input",{attrs:{type:"number"},model:{value:e.data.options.gutter,callback:function(t){e.$set(e.data.options,"gutter",e._n(t))},expression:"data.options.gutter"}})],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.columnOption")}},[a("draggable",e._b({attrs:{tag:"ul",list:e.data.columns,handle:".drag-item"}},"draggable",{group:{name:"options"},ghostClass:"ghost",handle:".drag-item"},!1),e._l(e.data.columns,(function(t,i){return a("li",{key:i},[a("i",{staticClass:"drag-item",staticStyle:{"font-size":"16px",margin:"0 5px",cursor:"move"}},[a("i",{staticClass:"iconfont icon-icon_bars"})]),a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:e.$t("fm.config.widget.span"),size:"mini",type:"number"},model:{value:t.span,callback:function(a){e.$set(t,"span",e._n(a))},expression:"item.span"}}),a("el-button",{staticStyle:{padding:"4px","margin-left":"5px"},attrs:{circle:"",plain:"",type:"danger",size:"mini",icon:"el-icon-minus"},on:{click:function(t){return e.handleOptionsRemove(i)}}})],1)})),0),a("div",{staticStyle:{"margin-left":"22px"}},[a("el-button",{attrs:{type:"text"},on:{click:e.handleAddColumn}},[e._v(e._s(e.$t("fm.actions.addColumn")))])],1)],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.justify")}},[a("el-select",{model:{value:e.data.options.justify,callback:function(t){e.$set(e.data.options,"justify",t)},expression:"data.options.justify"}},[a("el-option",{attrs:{value:"start",label:e.$t("fm.config.widget.justifyStart")}}),a("el-option",{attrs:{value:"end",label:e.$t("fm.config.widget.justifyEnd")}}),a("el-option",{attrs:{value:"center",label:e.$t("fm.config.widget.justifyCenter")}}),a("el-option",{attrs:{value:"space-around",label:e.$t("fm.config.widget.justifySpaceAround")}}),a("el-option",{attrs:{value:"space-between",label:e.$t("fm.config.widget.justifySpaceBetween")}})],1)],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.align")}},[a("el-select",{model:{value:e.data.options.align,callback:function(t){e.$set(e.data.options,"align",t)},expression:"data.options.align"}},[a("el-option",{attrs:{value:"top",label:e.$t("fm.config.widget.alignTop")}}),a("el-option",{attrs:{value:"middle",label:e.$t("fm.config.widget.alignMiddle")}}),a("el-option",{attrs:{value:"bottom",label:e.$t("fm.config.widget.alignBottom")}})],1)],1)]:e._e(),"grid"!=e.data.type?[a("el-form-item",{attrs:{label:e.$t("fm.config.widget.attribute")}},[Object.keys(e.data.options).indexOf("readonly")>=0?a("el-checkbox",{model:{value:e.data.options.readonly,callback:function(t){e.$set(e.data.options,"readonly",t)},expression:"data.options.readonly"}},[e._v(e._s(e.$t("fm.config.widget.readonly")))]):e._e(),Object.keys(e.data.options).indexOf("disabled")>=0?a("el-checkbox",{model:{value:e.data.options.disabled,callback:function(t){e.$set(e.data.options,"disabled",t)},expression:"data.options.disabled"}},[e._v(e._s(e.$t("fm.config.widget.disabled")))]):e._e(),Object.keys(e.data.options).indexOf("editable")>=0?a("el-checkbox",{model:{value:e.data.options.editable,callback:function(t){e.$set(e.data.options,"editable",t)},expression:"data.options.editable"}},[e._v(e._s(e.$t("fm.config.widget.editable")))]):e._e(),Object.keys(e.data.options).indexOf("clearable")>=0?a("el-checkbox",{model:{value:e.data.options.clearable,callback:function(t){e.$set(e.data.options,"clearable",t)},expression:"data.options.clearable"}},[e._v(e._s(e.$t("fm.config.widget.clearable")))]):e._e(),Object.keys(e.data.options).indexOf("arrowControl")>=0?a("el-checkbox",{model:{value:e.data.options.arrowControl,callback:function(t){e.$set(e.data.options,"arrowControl",t)},expression:"data.options.arrowControl"}},[e._v(e._s(e.$t("fm.config.widget.arrowControl")))]):e._e(),Object.keys(e.data.options).indexOf("isDelete")>=0?a("el-checkbox",{model:{value:e.data.options.isDelete,callback:function(t){e.$set(e.data.options,"isDelete",t)},expression:"data.options.isDelete"}},[e._v(e._s(e.$t("fm.config.widget.isDelete")))]):e._e(),Object.keys(e.data.options).indexOf("isEdit")>=0?a("el-checkbox",{model:{value:e.data.options.isEdit,callback:function(t){e.$set(e.data.options,"isEdit",t)},expression:"data.options.isEdit"}},[e._v(e._s(e.$t("fm.config.widget.isEdit")))]):e._e()],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.validate")}},[a("validate-rule",{attrs:{data:e.data},on:{validateRequired:e.validateRequired,validateDataType:e.validateDataType,valiatePattern:e.valiatePattern}})],1)]:e._e()],2)],1):e._e()}),[],!1,null,null,null).exports,J={props:["data"]},H=Object(l.a)(J,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-config-container"},[a("el-form",{attrs:{"label-position":"top"}},[a("el-form-item",{attrs:{label:e.$t("fm.config.form.labelPosition.title")}},[a("el-radio-group",{model:{value:e.data.labelPosition,callback:function(t){e.$set(e.data,"labelPosition",t)},expression:"data.labelPosition"}},[a("el-radio-button",{attrs:{label:"left"}},[e._v(e._s(e.$t("fm.config.form.labelPosition.left")))]),a("el-radio-button",{attrs:{label:"right"}},[e._v(e._s(e.$t("fm.config.form.labelPosition.right")))]),a("el-radio-button",{attrs:{label:"top"}},[e._v(e._s(e.$t("fm.config.form.labelPosition.top")))])],1)],1),a("el-form-item",{attrs:{label:e.$t("fm.config.form.labelWidth")}},[a("el-input-number",{attrs:{min:0,max:200,step:10},model:{value:e.data.labelWidth,callback:function(t){e.$set(e.data,"labelWidth",t)},expression:"data.labelWidth"}})],1),a("el-form-item",{attrs:{label:e.$t("fm.config.form.size")}},[a("el-radio-group",{model:{value:e.data.size,callback:function(t){e.$set(e.data,"size",t)},expression:"data.size"}},[a("el-radio-button",{attrs:{label:"medium"}},[e._v("medium")]),a("el-radio-button",{attrs:{label:"small"}},[e._v("small")]),a("el-radio-button",{attrs:{label:"mini"}},[e._v("mini")])],1)],1)],1)],1)}),[],!1,null,null,null).exports,Q=a("c7f0"),K=a("4260");function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var X={props:["element","select","index","data"],components:{FmUpload:Q.a},data:function(){return{selectWidget:this.select}},mounted:function(){},computed:{isErrorElement:function(){return!!this.element.error}},methods:{handleSelectWidget:function(e){this.selectWidget=this.data.list[e]},handleWidgetDelete:function(e){var t=this;this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick((function(){t.data.list.splice(e,1)}))},handleWidgetClone:function(e){var t=this,a=Z(Z({},this.data.list[e]),{},{options:Z({},this.data.list[e].options),key:Object(K.a)()});"radio"!==this.data.list[e].type&&"checkbox"!==this.data.list[e].type&&"select"!==this.data.list[e].type||(a=Z(Z({},a),{},{options:Z(Z({},a.options),{},{options:a.options.options.map((function(e){return Z({},e)}))})})),this.data.list.splice(e,0,a),this.$nextTick((function(){t.selectWidget=t.data.list[e+1]}))}},watch:{select:function(e){this.selectWidget=e},selectWidget:{handler:function(e){this.$emit("update:select",e)},deep:!0}}},Y=Object(l.a)(X,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.element&&e.element.key?a("el-form-item",{staticClass:"widget-view",class:{active:e.selectWidget.key==e.element.key,is_req:e.element.options.required,"el-error":e.element.error},attrs:{label:e.element.name},nativeOn:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},["input"==e.element.type?[a("el-input",{style:{width:e.element.options.width},attrs:{placeholder:e.element.options.placeholder,disabled:e.element.options.disabled},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"textarea"==e.element.type?[a("el-input",{style:{width:e.element.options.width},attrs:{type:"textarea",rows:5,disabled:e.element.options.disabled,placeholder:e.element.options.placeholder},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"number"==e.element.type?[a("el-input-number",{style:{width:e.element.options.width},attrs:{disabled:e.element.options.disabled,"controls-position":e.element.options.controlsPosition},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"radio"==e.element.type?[a("el-radio-group",{style:{width:e.element.options.width},attrs:{disabled:e.element.options.disabled},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}},e._l(e.element.options.options,(function(t,i){return a("el-radio",{key:t.value+i,style:{display:e.element.options.inline?"inline-block":"block"},attrs:{label:t.value}},[e._v(e._s(e.element.options.showLabel?t.label:t.value))])})),1)]:e._e(),"checkbox"==e.element.type?[a("el-checkbox-group",{style:{width:e.element.options.width},attrs:{disabled:e.element.options.disabled},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}},e._l(e.element.options.options,(function(t,i){return a("el-checkbox",{key:t.value+i,style:{display:e.element.options.inline?"inline-block":"block"},attrs:{label:t.value}},[e._v(e._s(e.element.options.showLabel?t.label:t.value))])})),1)]:e._e(),"time"==e.element.type?[a("el-time-picker",{style:{width:e.element.options.width},attrs:{"is-range":e.element.options.isRange,placeholder:e.element.options.placeholder,"start-placeholder":e.element.options.startPlaceholder,"end-placeholder":e.element.options.endPlaceholder,readonly:e.element.options.readonly,disabled:e.element.options.disabled,editable:e.element.options.editable,clearable:e.element.options.clearable,arrowControl:e.element.options.arrowControl},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"date"==e.element.type?[a("el-date-picker",{style:{width:e.element.options.width},attrs:{type:e.element.options.type,"is-range":e.element.options.isRange,placeholder:e.element.options.placeholder,"start-placeholder":e.element.options.startPlaceholder,"end-placeholder":e.element.options.endPlaceholder,readonly:e.element.options.readonly,disabled:e.element.options.disabled,editable:e.element.options.editable,clearable:e.element.options.clearable},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"rate"==e.element.type?[a("el-rate",{attrs:{max:e.element.options.max,disabled:e.element.options.disabled,"allow-half":e.element.options.allowHalf},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"color"==e.element.type?[a("el-color-picker",{attrs:{disabled:e.element.options.disabled,"show-alpha":e.element.options.showAlpha},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"select"==e.element.type?[a("el-select",{style:{width:e.element.options.width},attrs:{disabled:e.element.options.disabled,multiple:e.element.options.multiple,clearable:e.element.options.clearable,placeholder:e.element.options.placeholder},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}},e._l(e.element.options.options,(function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:e.element.options.showLabel?t.label:t.value}})})),1)]:e._e(),"switch"==e.element.type?[a("el-switch",{attrs:{disabled:e.element.options.disabled},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"slider"==e.element.type?[a("el-slider",{style:{width:e.element.options.width},attrs:{min:e.element.options.min,max:e.element.options.max,disabled:e.element.options.disabled,step:e.element.options.step,"show-input":e.element.options.showInput,range:e.element.options.range},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"imgupload"==e.element.type?[a("fm-upload",{style:{width:e.element.options.width},attrs:{disabled:e.element.options.disabled,width:e.element.options.size.width,height:e.element.options.size.height,token:"xxx",domain:"xxx"},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"cascader"==e.element.type?[a("el-cascader",{style:{width:e.element.options.width},attrs:{disabled:e.element.options.disabled,clearable:e.element.options.clearable,placeholder:e.element.options.placeholder,options:e.element.options.remoteOptions},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"editor"==e.element.type?[a("vue-editor",{style:{width:e.element.options.width},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"blank"==e.element.type?[a("div",{staticStyle:{height:"50px",color:"#999",background:"#eee","line-height":"50px","text-align":"center"}},[e._v(e._s(e.$t("fm.components.fields.blank")))])]:e._e(),"text"==e.element.type?[a("span",[e._v(e._s(e.element.options.defaultValue))])]:e._e(),"table"===e.element.type?[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.element.options.defaultValue,height:e.element.options.height,border:e.element.options.border,stripe:e.element.options.stripe}},e._l(e.element.options.columns,(function(e){return a("el-table-column",{key:e.field,attrs:{prop:e.field,label:e.label,width:e.width}})})),1)]:e._e(),e.selectWidget.key==e.element.key?a("div",{staticClass:"widget-view-action"},[e.isErrorElement?e._e():a("i",{staticClass:"iconfont icon-icon_clone",on:{click:function(t){return t.stopPropagation(),e.handleWidgetClone(e.index)}}}),a("i",{staticClass:"iconfont icon-trash",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e(),e.selectWidget.key==e.element.key?a("div",{staticClass:"widget-view-drag"},[a("i",{staticClass:"iconfont icon-drag drag-widget"})]):e._e(),a("div",{staticClass:"widget-view-action top-0"},[e.isErrorElement?e._e():a("i",{staticClass:"iconfont icon-zidingyishuju"})])],2):e._e()}),[],!1,null,null,null).exports;function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ae={components:{Draggable:R.a,WidgetFormItem:Y},props:["data","select"],data:function(){return{selectWidget:this.select}},mounted:function(){document.body.ondrop=function(e){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&(e.preventDefault(),e.stopPropagation())}},methods:{handleMoveEnd:function(e){e.newIndex,e.oldIndex},handleSelectWidget:function(e){this.selectWidget=this.data.list[e]},handleWidgetAdd:function(e){var t=e.newIndex,a=(e.to,Object(K.a)()),i=void 0===this.data.list[t].options.remoteFunc?te({},this.data.list[t].options):te(te({},this.data.list[t].options),{},{remoteFunc:"func_"+a});this.$set(this.data.list,t,te(te({},this.data.list[t]),{},{options:i,key:a,model:this.data.list[t].type+"_"+a,rules:[]})),"radio"!==this.data.list[t].type&&"checkbox"!==this.data.list[t].type&&"select"!==this.data.list[t].type||this.$set(this.data.list,t,te(te({},this.data.list[t]),{},{options:te(te({},this.data.list[t].options),{},{options:this.data.list[t].options.options.map((function(e){return te({},e)}))})})),"grid"===this.data.list[t].type&&this.$set(this.data.list,t,te(te({},this.data.list[t]),{},{columns:this.data.list[t].columns.map((function(e){return te({},e)}))})),this.selectWidget=this.data.list[t]},handleWidgetColAdd:function(e,t,a){var i=e.newIndex,o=e.oldIndex,n=e.item;if(n.className.indexOf("data-grid")>=0)return"DIV"===n.tagName&&this.data.list.splice(o,0,t.columns[a].list[i]),t.columns[a].list.splice(i,1),!1;var l=Object(K.a)();this.$set(t.columns[a].list,i,te(te({},t.columns[a].list[i]),{},{options:te(te({},t.columns[a].list[i].options),{},{remoteFunc:"func_"+l}),key:l,model:t.columns[a].list[i].type+"_"+l,rules:[]})),"radio"!==t.columns[a].list[i].type&&"checkbox"!==t.columns[a].list[i].type&&"select"!==t.columns[a].list[i].type||this.$set(t.columns[a].list,i,te(te({},t.columns[a].list[i]),{},{options:te(te({},t.columns[a].list[i].options),{},{options:t.columns[a].list[i].options.options.map((function(e){return te({},e)}))})})),this.selectWidget=t.columns[a].list[i]},handleWidgetDelete:function(e){var t=this;this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick((function(){t.data.list.splice(e,1)}))}},watch:{select:function(e){this.selectWidget=e},selectWidget:{handler:function(e){this.$emit("update:select",e)},deep:!0}}},ie=Object(l.a)(ae,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"widget-form-container"},[0==e.data.list.length?a("div",{staticClass:"form-empty"},[e._v(e._s(e.$t("fm.description.containerEmpty")))]):e._e(),a("el-form",{attrs:{size:e.data.config.size,"label-suffix":":","label-position":e.data.config.labelPosition,"label-width":e.data.config.labelWidth+"px"}},[a("draggable",e._b({on:{end:e.handleMoveEnd,add:e.handleWidgetAdd},model:{value:e.data.list,callback:function(t){e.$set(e.data,"list",t)},expression:"data.list"}},"draggable",{group:"people",ghostClass:"ghost",animation:200,handle:".drag-widget"},!1),[a("transition-group",{staticClass:"widget-form-list",attrs:{name:"fade",tag:"div"}},[e._l(e.data.list,(function(t,i){return["grid"==t.type?[t&&t.key?a("el-row",{key:t.key,staticClass:"widget-col widget-view",class:{active:e.selectWidget.key==t.key},attrs:{type:"flex",gutter:t.options.gutter?t.options.gutter:0,justify:t.options.justify,align:t.options.align},nativeOn:{click:function(t){return e.handleSelectWidget(i)}}},[e._l(t.columns,(function(i,o){return a("el-col",{key:o,attrs:{span:i.span?i.span:0}},[a("draggable",e._b({attrs:{"no-transition-on-drag":!0},on:{end:e.handleMoveEnd,add:function(a){return e.handleWidgetColAdd(a,t,o)}},model:{value:i.list,callback:function(t){e.$set(i,"list",t)},expression:"col.list"}},"draggable",{group:"people",ghostClass:"ghost",animation:200,handle:".drag-widget"},!1),[a("transition-group",{staticClass:"widget-col-list",attrs:{name:"fade",tag:"div"}},e._l(i.list,(function(t,o){return t.key?a("widget-form-item",{key:t.key,attrs:{element:t,select:e.selectWidget,index:o,data:i},on:{"update:select":function(t){e.selectWidget=t}}}):e._e()})),1)],1)],1)})),e.selectWidget.key==t.key?a("div",{staticClass:"widget-view-action widget-col-action"},[a("i",{staticClass:"iconfont icon-trash",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(i)}}})]):e._e(),e.selectWidget.key==t.key?a("div",{staticClass:"widget-view-drag widget-col-drag"},[a("i",{staticClass:"iconfont icon-drag drag-widget"})]):e._e()],2):e._e()]:[t&&t.key?a("widget-form-item",{key:t.key,attrs:{element:t,select:e.selectWidget,index:i,data:e.data},on:{"update:select":function(t){e.selectWidget=t}}}):e._e()]]}))],2)],1)],1)],1)}),[],!1,null,null,null).exports,oe={props:{visible:Boolean,loadingText:{type:String,default:""},title:{type:String,default:""},width:{type:String,default:"600px"},height:{type:String,default:""},form:{type:Boolean,default:!0},fullscreen:{type:Boolean,default:!1},action:{type:Boolean,default:!0}},computed:{show:function(){return!this.form||this.showForm}},data:function(){return{loading:!1,dialogVisible:this.visible,id:"dialog_"+(new Date).getTime(),showForm:!1}},methods:{close:function(){this.dialogVisible=!1},submit:function(){this.loading=!0,this.$emit("on-submit")},end:function(){this.loading=!1}},mounted:function(){},watch:{dialogVisible:function(e){var t=this;e?this.showForm=!0:(this.loading=!1,this.$emit("on-close"),setTimeout((function(){t.showForm=!1}),300))},visible:function(e){this.dialogVisible=e}}},ne=(a("d7cd"),Object(l.a)(oe,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{ref:"elDialog",staticClass:"cus-dialog-container",attrs:{title:e.title,visible:e.dialogVisible,"close-on-click-modal":!1,"append-to-body":"",center:"",fullscreen:e.fullscreen,width:e.width,id:e.id},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.show?a("span",[e._t("default")],2):e._e(),e.action?a("span",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"dialog-footer",attrs:{slot:"footer","element-loading-text":e.loadingText},slot:"footer"},[e._t("action",[a("el-button",{on:{click:e.close}},[e._v(e._s(e.$t("fm.actions.cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(e._s(e.$t("fm.actions.confirm")))])])],2):e._e()])}),[],!1,null,null,null).exports),le=a("4d7f").a,se=(a("32f9"),Object(l.a)(le,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"generateForm",attrs:{"label-suffix":":",size:e.data.config.size,model:e.models,rules:e.rules,"label-position":e.data.config.labelPosition,"label-width":e.data.config.labelWidth+"px"}},[e._l(e.data.list,(function(t){return["grid"==t.type?[a("el-row",{key:t.key,attrs:{type:"flex",gutter:t.options.gutter?t.options.gutter:0,justify:t.options.justify,align:t.options.align}},e._l(t.columns,(function(t,i){return a("el-col",{key:i,attrs:{span:t.span}},[e._l(t.list,(function(t){return["blank"==t.type?a("el-form-item",{key:t.key,attrs:{label:t.name,prop:t.model}},[e._t(t.model,null,{model:e.models})],2):a("genetate-form-item",{key:t.key,attrs:{models:e.models,remote:e.remote,rules:e.rules,widget:t},on:{"update:models":function(t){e.models=t},"input-change":e.onInputChange}})]}))],2)})),1)]:"blank"==t.type?[a("el-form-item",{key:t.key,attrs:{label:t.name,prop:t.model}},[e._t(t.model,null,{model:e.models})],2)]:[a("genetate-form-item",{key:t.key,attrs:{models:e.models,rules:e.rules,widget:t,remote:e.remote},on:{"update:models":function(t){e.models=t},"input-change":e.onInputChange}})]]}))],2)],1)}),[],!1,null,null,null).exports),re=[{type:"input",icon:"icon-input",options:{width:"100%",defaultValue:"",required:!1,dataType:"string",pattern:"",placeholder:"",disabled:!1}},{type:"textarea",icon:"icon-diy-com-textarea",options:{width:"100%",defaultValue:"",required:!1,disabled:!1,pattern:"",placeholder:""}},{type:"number",icon:"icon-number",options:{width:"",required:!1,defaultValue:0,min:"",max:"",step:1,disabled:!1,controlsPosition:""}},{type:"radio",icon:"icon-radio-active",options:{inline:!1,defaultValue:"",showLabel:!1,options:[{value:"Option 1",label:"Option 1"},{value:"Option 2",label:"Option 2"},{value:"Option 3",label:"Option 3"}],required:!1,width:"",remote:!1,remoteOptions:[],props:{value:"value",label:"label"},remoteFunc:"",disabled:!1}},{type:"checkbox",icon:"icon-check-box",options:{inline:!1,defaultValue:[],showLabel:!1,options:[{value:"Option 1"},{value:"Option 2"},{value:"Option 3"}],required:!1,width:"",remote:!1,remoteOptions:[],props:{value:"value",label:"label"},remoteFunc:"",disabled:!1}},{type:"time",icon:"icon-time",options:{defaultValue:"21:19:56",readonly:!1,disabled:!1,editable:!0,clearable:!0,placeholder:"",startPlaceholder:"",endPlaceholder:"",isRange:!1,arrowControl:!0,format:"HH:mm:ss",required:!1,width:""}},{type:"date",icon:"icon-date",options:{defaultValue:"",readonly:!1,disabled:!1,editable:!0,clearable:!0,placeholder:"",startPlaceholder:"",endPlaceholder:"",type:"date",format:"yyyy-MM-dd",timestamp:!1,required:!1,width:""}},{type:"rate",icon:"icon-pingfen1",options:{defaultValue:null,max:5,disabled:!1,allowHalf:!1,required:!1}},{type:"color",icon:"icon-color",options:{defaultValue:"",disabled:!1,showAlpha:!1,required:!1}},{type:"select",icon:"icon-select",options:{defaultValue:"",multiple:!1,disabled:!1,clearable:!1,placeholder:"",required:!1,showLabel:!1,width:"",options:[{value:"Option 1"},{value:"Option 2"},{value:"Option 3"}],remote:!1,filterable:!1,remoteOptions:[],props:{value:"value",label:"label"},remoteFunc:""}},{type:"switch",icon:"icon-switch",options:{defaultValue:!1,required:!1,disabled:!1}},{type:"slider",icon:"icon-slider",options:{defaultValue:0,disabled:!1,required:!1,min:0,max:100,step:1,showInput:!1,range:!1,width:""}},{type:"text",icon:"icon-wenzishezhi-",options:{defaultValue:"This is a text",customClass:""}}],de=[{type:"blank",icon:"icon-zidingyishuju",options:{defaultType:"String"}},{type:"imgupload",icon:"icon-tupian",options:{defaultValue:[],size:{width:100,height:100},width:"",tokenFunc:"funcGetToken",token:"",domain:"http://pfp81ptt6.bkt.clouddn.com/",disabled:!1,length:8,multiple:!1,isQiniu:!1,isDelete:!1,min:0,isEdit:!1,action:"https://jsonplaceholder.typicode.com/photos/"}},{type:"editor",icon:"icon-fuwenbenkuang",options:{defaultValue:"",width:""}},{type:"cascader",icon:"icon-jilianxuanze",options:{defaultValue:[],width:"",placeholder:"",disabled:!1,clearable:!1,remote:!0,remoteOptions:[],props:{value:"value",label:"label",children:"children"},remoteFunc:""}},{type:"table",icon:"icon-table",options:{stripe:!0,border:!1,height:"400",columns:[{field:"date",label:"日期",width:"180"},{field:"name",label:"姓名",width:"180"},{field:"address",label:"地址"}],defaultValue:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"}]}}],ce=[{type:"grid",icon:"icon-grid-",columns:[{span:12,list:[]},{span:12,list:[]}],options:{gutter:0,justify:"start",align:"top"}}],pe=a("bc3a"),ue=a.n(pe).a.create({withCredentials:!1});ue.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(new Error(e).message)})),ue.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(new Error(e).message)}));var me=ue;function fe(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.contain="strict",t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="12pt";var a=getSelection(),i=!1;a.rangeCount>0&&(i=a.getRangeAt(0)),document.body.appendChild(t),t.select(),t.selectionStart=0,t.selectionEnd=e.length;var o=!1;try{o=document.execCommand("copy")}catch(e){}return document.body.removeChild(t),i&&(a.removeAllRanges(),a.addRange(i)),o}function he(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?he(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):he(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a("061c"),a("818b"),a("be9d");var be,ye,we={name:"fm-making-form",components:{Draggable:R.a,WidgetConfig:N,FormConfig:H,WidgetForm:ie,CusDialog:ne,GenerateForm:se},props:{actionSize:{type:String,default:"medium"},hideFooter:{type:Boolean,default:!1},copyCode:{type:Boolean,default:!1},preview:{type:Boolean,default:!1},generateJson:{type:Boolean,default:!1},upload:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},basicComponentsConfig:{type:Array,default:function(){return re}},advanceComponentsConfig:{type:Array,default:function(){return de}},layoutComponentsConfig:{type:Array,default:function(){return ce}},basicFields:{type:Array,default:function(){return["input","textarea","number","radio","checkbox","time","date","rate","color","select","switch","slider","text"]}},advanceFields:{type:Array,default:function(){return["blank","imgupload","editor","cascader"]}},layoutFields:{type:Array,default:function(){return["grid"]}}},data:function(){return{basicComponents:re,layoutComponents:ce,advanceComponents:de,resetJson:!1,widgetForm:{list:[],config:{labelWidth:100,labelPosition:"right",size:"small"}},configTab:"widget",widgetFormSelect:null,previewVisible:!1,jsonVisible:!1,codeVisible:!1,uploadVisible:!1,remoteFuncs:{func_test:function(e){setTimeout((function(){e([{id:"1",name:"1111"},{id:"2",name:"2222"},{id:"3",name:"3333"}])}),2e3)},funcGetToken:function(e){me.get("http://tools-server.xiaoyaoji.cn/api/uptoken").then((function(t){e(t.uptoken)}))},upload_callback:function(e,t,a){}},widgetModels:{},blank:"",htmlTemplate:"",vueTemplate:"",jsonTemplate:"",uploadEditor:null,jsonCopyValue:"",jsonClipboard:null,jsonEg:'{\n  "list": [],\n  "config": {\n    "labelWidth": 100,\n    "labelPosition": "top",\n    "size": "small"\n  }\n}',codeActiveName:"vue"}},computed:{allowedBasicComponents:function(){var e=this;return this.basicComponents.filter((function(t){return e.basicFields.indexOf(t.type)>=0}))},allowedAdvanceComponents:function(){var e=this;return this.advanceComponents.filter((function(t){return e.advanceFields.indexOf(t.type)>=0}))},allowedLayoutComponents:function(){var e=this;return this.layoutComponents.filter((function(t){return e.layoutFields.indexOf(t.type)>=0}))}},mounted:function(){this._loadComponents()},methods:{_loadComponents:function(){var e=this;this.basicComponents=this.basicComponentsConfig.map((function(t){return ge(ge({},t),{},{name:e.$t("fm.components.fields.".concat(t.type))})})),this.advanceComponents=this.advanceComponentsConfig.map((function(t){return ge(ge({},t),{},{name:e.$t("fm.components.fields.".concat(t.type))})})),this.layoutComponents=this.layoutComponentsConfig.map((function(t){return ge(ge({},t),{},{name:e.$t("fm.components.fields.".concat(t.type))})}))},handleGoGithub:function(){window.location.href="https://github.com/giscafer/vue-form-builder"},handleConfigSelect:function(e){this.configTab=e},handleMoveEnd:function(e){},handleMoveStart:function(e){e.oldIndex},handleMove:function(){return!0},handlePreview:function(){try{new RegExp(this.data.options.pattern)}catch(e){}this.previewVisible=!0},handleTest:function(){var e=this;this.$refs.generateForm.getData().then((function(t){e.$alert(t,"").catch((function(e){})),e.$refs.widgetPreview.end()})).catch((function(t){e.$refs.widgetPreview.end()}))},handleReset:function(){this.$refs.generateForm.reset()},handleGenerateJson:function(){var e=this;this.jsonVisible=!0,this.jsonTemplate=this.widgetForm,this.$nextTick((function(){ace.edit("jsoneditor").session.setMode("ace/mode/json"),e.jsonCopyValue=JSON.stringify(e.widgetForm)}))},copyJsonDataHandler:function(){fe(this.jsonCopyValue)&&this.$message.success(this.$t("fm.message.copySuccess"))},handleUpload:function(){var e=this;this.uploadVisible=!0,this.$nextTick((function(){e.uploadEditor=ace.edit("uploadeditor"),e.uploadEditor.session.setMode("ace/mode/json")}))},handleUploadJson:function(){try{this.setJSON(JSON.parse(this.uploadEditor.getValue())),this.uploadVisible=!1}catch(e){this.$message.error(e.message),this.$refs.uploadJson.end()}},handleClear:function(){this.widgetForm={list:[],config:{labelWidth:100,labelPosition:"right",size:"small",customClass:""}},this.widgetFormSelect={}},getJSON:function(){return this.widgetForm},setJSON:function(e){this.widgetForm=e,e.list.length>0&&(this.widgetFormSelect=e.list[0])},handleInput:function(e){this.blank=e},handleDataChange:function(e,t,a){},handleCopyCode:function(e){fe(e?I(this.widgetForm,this.widgetModels):decodeURIComponent(this.$refs.codeRunRef.code))&&this.$message.success(this.$t("fm.message.copySuccess"))}},watch:{widgetForm:{deep:!0,handler:function(e){}},$lang:function(e){this._loadComponents()}}},ve=(a("314e"),Object(l.a)(we,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"fm2-container",class:{disabled:e.disabled}},[a("el-main",{staticClass:"fm2-main"},[a("el-container",[a("el-aside",{attrs:{width:"250px"}},[a("div",{staticClass:"components-list"},[e.basicFields.length?[a("div",{staticClass:"widget-cate"},[e._v(e._s(e.$t("fm.components.basic.title")))]),a("draggable",e._b({attrs:{tag:"ul",disabled:e.disabled,list:e.allowedBasicComponents,move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),e._l(e.allowedBasicComponents,(function(t,i){return a("li",{key:i,staticClass:"form-edit-widget-label",class:{"no-put":"divider"==t.type}},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),a("span",[e._v(e._s(t.name))])])])})),0)]:e._e(),e.advanceFields.length?[a("div",{staticClass:"widget-cate"},[e._v(e._s(e.$t("fm.components.advance.title")))]),a("draggable",e._b({attrs:{tag:"ul",disabled:e.disabled,list:e.allowedAdvanceComponents,move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),e._l(e.allowedAdvanceComponents,(function(t,i){return a("li",{key:i,staticClass:"form-edit-widget-label",class:{"no-put":"table"==t.type}},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),a("span",[e._v(e._s(t.name))])])])})),0)]:e._e(),e.layoutFields.length?[a("div",{staticClass:"widget-cate"},[e._v(e._s(e.$t("fm.components.layout.title")))]),a("draggable",e._b({attrs:{tag:"ul",disabled:e.disabled,list:e.allowedLayoutComponents,move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),e._l(e.allowedLayoutComponents,(function(t,i){return a("li",{key:i,staticClass:"form-edit-widget-label no-put"},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),a("span",[e._v(e._s(t.name))])])])})),0)]:e._e()],2)]),a("el-container",{staticClass:"center-container",attrs:{direction:"vertical"}},[a("el-header",{staticClass:"btn-bar",staticStyle:{height:"45px"}},[e._t("action"),e.clearable?a("el-button",{attrs:{type:"text",size:e.actionSize,icon:"el-icon-delete"},on:{click:e.handleClear}},[e._v(e._s(e.$t("fm.actions.clear")))]):e._e(),e.preview?a("el-button",{attrs:{type:"text",size:e.actionSize,icon:"el-icon-view"},on:{click:e.handlePreview}},[e._v(e._s(e.$t("fm.actions.preview")))]):e._e(),e.copyCode?a("el-button",{attrs:{type:"text",size:e.actionSize,icon:"el-icon-document"},on:{click:function(t){return e.handleCopyCode(!0)}}},[e._v(e._s(e.$t("fm.actions.copyCode")))]):e._e(),e.generateJson?a("el-button",{attrs:{type:"text",size:e.actionSize,icon:"el-icon-tickets"},on:{click:e.handleGenerateJson}},[e._v(e._s(e.$t("fm.actions.json")))]):e._e(),e.upload?a("el-button",{attrs:{type:"text",size:e.actionSize,icon:"el-icon-upload2"},on:{click:e.handleUpload}},[e._v(e._s(e.$t("fm.actions.import")))]):e._e()],2),a("el-main",{class:{"widget-empty":0==e.widgetForm.list.length}},[e.resetJson?e._e():a("widget-form",{ref:"widgetForm",attrs:{data:e.widgetForm,select:e.widgetFormSelect},on:{"update:select":function(t){e.widgetFormSelect=t}}})],1)],1),a("el-aside",{staticClass:"widget-config-container"},[a("el-container",[a("el-header",{attrs:{height:"45px"}},[a("div",{staticClass:"config-tab",class:{active:"widget"==e.configTab},on:{click:function(t){return e.handleConfigSelect("widget")}}},[e._v(e._s(e.$t("fm.config.widget.title")))]),a("div",{staticClass:"config-tab",class:{active:"form"==e.configTab},on:{click:function(t){return e.handleConfigSelect("form")}}},[e._v(e._s(e.$t("fm.config.form.title")))])]),a("el-main",{staticClass:"config-content"},[a("widget-config",{directives:[{name:"show",rawName:"v-show",value:"widget"==e.configTab,expression:"configTab=='widget'"}],attrs:{data:e.widgetFormSelect}}),a("form-config",{directives:[{name:"show",rawName:"v-show",value:"form"==e.configTab,expression:"configTab=='form'"}],attrs:{data:e.widgetForm.config}})],1)],1)],1),a("cus-dialog",{ref:"widgetPreview",attrs:{visible:e.previewVisible,width:"100%",fullscreen:!0,form:""},on:{"on-close":function(t){e.previewVisible=!1}}},[a("code-run",{ref:"codeRunRef",attrs:{data:e.widgetForm,value:e.widgetModels,remote:e.remoteFuncs}}),a("template",{slot:"action"},[a("el-button",{attrs:{type:"info"},on:{click:e.handleCopyCode}},[e._v(e._s(e.$t("fm.actions.copyCode")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleTest}},[e._v(e._s(e.$t("fm.actions.getData")))]),a("el-button",{on:{click:e.handleReset}},[e._v(e._s(e.$t("fm.actions.reset")))])],1)],2),a("cus-dialog",{ref:"uploadJson",attrs:{visible:e.uploadVisible,width:"800px",form:""},on:{"on-close":function(t){e.uploadVisible=!1},"on-submit":e.handleUploadJson}},[a("el-alert",{attrs:{type:"info",title:e.$t("fm.description.uploadJsonInfo")}}),a("div",{staticStyle:{height:"400px",width:"100%"},attrs:{id:"uploadeditor"}},[e._v(e._s(e.jsonEg))])],1),a("cus-dialog",{ref:"jsonPreview",attrs:{visible:e.jsonVisible,width:"800px",form:""},on:{"on-close":function(t){e.jsonVisible=!1}}},[a("div",{staticStyle:{height:"400px",width:"100%"},attrs:{id:"jsoneditor"}},[e._v(e._s(e.jsonTemplate))]),a("template",{slot:"action"},[a("el-button",{staticClass:"json-btn",attrs:{type:"primary"},on:{click:e.copyJsonDataHandler}},[e._v(e._s(e.$t("fm.actions.copyData")))])],1)],2),a("cus-dialog",{ref:"codePreview",attrs:{visible:e.codeVisible,width:"800px",form:"",action:!1},on:{"on-close":function(t){e.codeVisible=!1}}},[a("el-tabs",{staticStyle:{"box-shadow":"none"},attrs:{type:"border-card"},model:{value:e.codeActiveName,callback:function(t){e.codeActiveName=t},expression:"codeActiveName"}},[a("el-tab-pane",{attrs:{label:"Vue Component",name:"vue"}},[a("div",{staticStyle:{height:"500px",width:"100%"},attrs:{id:"vuecodeeditor"}},[e._v(e._s(e.vueTemplate))])]),a("el-tab-pane",{attrs:{label:"HTML",name:"html"}},[a("div",{staticStyle:{height:"500px",width:"100%"},attrs:{id:"codeeditor"}},[e._v(e._s(e.htmlTemplate))])])],1)],1)],1)],1),e.hideFooter?e._e():a("el-footer",{staticStyle:{"font-weight":"600"},attrs:{height:"30px"}},[e._v("\n    Powered by\n    "),a("a",{attrs:{target:"_blank",href:"https://github.com/giscafer/vue-form-builder"}},[e._v("vue-form-builder")])])],1)}),[],!1,null,null,null).exports),_e={fm:{components:{fields:{input:"Input",textarea:"Textarea",number:"Number",radio:"Radio",checkbox:"Checkbox",time:"Time",date:"Date",rate:"Rate",color:"Color",select:"Select",switch:"Switch",slider:"Slider",text:"Text",blank:"Custom",fileupload:"File",imgupload:"Image",editor:"Editor",cascader:"Cascader",table:"Sub-table",grid:"Grid",tabs:"Tabs",divider:"Divider"},basic:{title:"Basic Component"},advance:{title:"Advance Component"},layout:{title:"Layout"}},description:{containerEmpty:"You can drag and drop the item from the left to add components",configEmpty:"Please add a component",tableEmpty:"You can drag and drop the item from the left to add components",uploadJsonInfo:"There is the format of JSON below，you can overwrite it with you own JSON code"},message:{copySuccess:"Copy Successed",validError:"Form data validation failed"},actions:{import:"Import JSON",clear:"Clear",preview:"Preview",json:"Generate JSON",code:"Generate Code",getData:"Get Data",reset:"Reset",copyData:"Copy Data",cancel:"Cancel",confirm:"Confirm",addOption:"Add Option",addColumn:"Add Column",addTab:"Add Tab",upload:"Upload",add:"Add",copyCode:"Copy Code"},config:{form:{title:"Form Attribute",labelPosition:{title:"Label Position",left:"Left",right:"Right",top:"Top"},labelWidth:"Label Width",size:"Size",customClass:"Custom Class"},widget:(be={title:"Component Attribute",model:"ID",name:"Name",width:"Width",height:"Height",size:"Size",labelWidth:"Label Width",custom:"Custom",placeholder:"Placeholder",layout:"Layout",block:"Block",inline:"Inline",contentPosition:"Content Position",left:"Left",right:"Right",center:"Center",showInput:"Display Input Box",min:"Minimum",max:"Maximum",step:"Step",multiple:"Multiple",filterable:"Searchable",allowHalf:"Allow Half",showAlpha:"Support transparency options",showLabel:"Show lable",option:"Option",staticData:"Static Data",remoteData:"Remote Date",remoteFunc:"Remote Function",value:"Value",label:"Label",childrenOption:"Sub-Option",defaultValue:"Default Value",showType:"Display type",isRange:"Range Time",isTimestamp:"Get time stamp",startPlaceholder:"Placeholder of start time",endPlaceholder:"Placeholder of end time",format:"Format",limit:"Maximum Upload Count",isQiniu:"Upload with Qiniu Cloud",tokenFunc:"A funchtin to get Qiniu Uptoken",imageAction:"Picture upload address",tip:"Text Prompt",action:"Upload Address",defaultType:"Data Type",none:"None",string:"String",object:"Object",array:"Array",number:"Number",boolean:"Boolean",integer:"Integer",float:"Float",url:"URL",email:"E-mail",hex:"Hexadecimal",gutter:"Grid Spacing",columnOption:"Column Configuration",span:"Grid spans",justify:"Horizontal Arrangement",justifyStart:"Start",justifyEnd:"End",justifyCenter:"Center",justifySpaceAround:"Space Around",justifySpaceBetween:"Space Between",align:"Vertical Arrangement",alignTop:"Top",alignMiddle:"Middle",alignBottom:"Bottom",type:"Type",default:"Default",card:"Tabs",borderCard:"Border-Card",tabPosition:"Tab Position",top:"Tob"},Object(i.a)(be,"left","Left"),Object(i.a)(be,"right","Right"),Object(i.a)(be,"bottom","Bottom"),Object(i.a)(be,"tabOption","Label Configuration"),Object(i.a)(be,"tabName","Tab Name"),Object(i.a)(be,"customClass","Custom Class"),Object(i.a)(be,"attribute","Attribute Action"),Object(i.a)(be,"dataBind","Data Binding"),Object(i.a)(be,"hidden","Hidden"),Object(i.a)(be,"readonly","Read Only"),Object(i.a)(be,"disabled","Disabled"),Object(i.a)(be,"editable","Text box is editable"),Object(i.a)(be,"clearable","Display Clear Button"),Object(i.a)(be,"arrowControl","Use the arrow for time selection"),Object(i.a)(be,"isDelete","Deletable"),Object(i.a)(be,"isEdit","Editable"),Object(i.a)(be,"showPassword","Display Password"),Object(i.a)(be,"validate","Validation"),Object(i.a)(be,"required","Required"),Object(i.a)(be,"patternPlaceholder","Fill in the regular expressions"),Object(i.a)(be,"newOption","New Option"),Object(i.a)(be,"tab","Tab"),Object(i.a)(be,"validatorRequired","Required"),Object(i.a)(be,"validatorType","Invaild format"),Object(i.a)(be,"validatorPattern","Unmatched pattern"),Object(i.a)(be,"normalValidatorName","normal"),Object(i.a)(be,"patternValidatorName","pattern"),Object(i.a)(be,"errorExplain","custom explain"),be)},upload:{preview:"preview",edit:"replace",delete:"delete"}}},Oe={fm:{components:{fields:{input:"单行文本",textarea:"多行文本",number:"计数器",radio:"单选框组",checkbox:"多选框组",time:"时间选择器",date:"日期选择器",rate:"评分",color:"颜色选择器",select:"下拉选择框",switch:"开关",slider:"滑块",text:"文字",blank:"自定义区域",fileupload:"文件",imgupload:"图片",editor:"编辑器",cascader:"级联选择器",table:"表格",grid:"栅格布局",tabs:"标签页",divider:"分割线"},basic:{title:"基础字段"},advance:{title:"高级字段"},layout:{title:"布局字段"}},description:{containerEmpty:"从左侧拖拽来添加字段",configEmpty:"请添加字段",tableEmpty:"从左侧拖拽来添加字段",uploadJsonInfo:"JSON格式如下，直接复制生成的json覆盖此处代码点击确定即可"},message:{copySuccess:"复制成功",validError:"表单数据校验失败"},actions:{import:"导入JSON",clear:"清空",preview:"预览",json:"生成JSON",code:"生成代码",getData:"获取数据",reset:"重置",copyData:"复制数据",cancel:"取 消",confirm:"确 定",addOption:"添加选项",addColumn:"添加列",addTab:"添加标签",upload:"点击上传",add:"添加",copyCode:"复制代码"},config:{form:{title:"表单属性",labelPosition:{title:"标签对齐方式",left:"左对齐",right:"右对齐",top:"顶部对齐"},labelWidth:"表单标签宽度",size:"组件尺寸",customClass:"自定义Class"},widget:(ye={title:"字段属性",model:"字段标识",name:"标题",width:"宽度",height:"高度",size:"大小",labelWidth:"标签宽度",custom:"自定义",placeholder:"占位内容",layout:"布局方式",block:"块级",inline:"行内",contentPosition:"文案位置",left:"左侧",right:"右侧",center:"居中",showInput:"显示输入框",min:"最小值",max:"最大值",step:"步长",multiple:"是否多选",filterable:"是否可搜索",allowHalf:"允许半选",showAlpha:"支持透明度选择",showLabel:"是否显示标签",option:"选项",staticData:"静态数据",remoteData:"远端数据",remoteFunc:"远端方法",value:"值",label:"标签",childrenOption:"子选项",defaultValue:"默认值",showType:"显示类型",isRange:"是否为范围选择",isTimestamp:"是否获取时间戳",startPlaceholder:"开始时间占位内容",endPlaceholder:"结束时间占位内容",format:"格式",limit:"最大上传数",isQiniu:"使用七牛上传",tokenFunc:"获取七牛Token方法",imageAction:"图片上传地址",tip:"提示说明文字",action:"上传地址",defaultType:"绑定数据类型",none:"无",string:"字符串",object:"对象",array:"数组",number:"数字",boolean:"布尔值",integer:"整数",float:"浮点数",url:"URL地址",email:"邮箱地址",hex:"十六进制",gutter:"栅格间隔",columnOption:"列配置项",span:"栅格值",justify:"水平排列方式",justifyStart:"左对齐",justifyEnd:"右对齐",justifyCenter:"居中",justifySpaceAround:"两侧间隔相等",justifySpaceBetween:"两端对齐",align:"垂直排列方式",alignTop:"顶部对齐",alignMiddle:"居中",alignBottom:"底部对齐",type:"风格类型",default:"默认",card:"选项卡",borderCard:"卡片化",tabPosition:"选项卡位置",top:"顶部"},Object(i.a)(ye,"left","左侧"),Object(i.a)(ye,"right","右侧"),Object(i.a)(ye,"bottom","底部"),Object(i.a)(ye,"tabOption","标签配置项"),Object(i.a)(ye,"tabName","标签名称"),Object(i.a)(ye,"customClass","自定义Class"),Object(i.a)(ye,"attribute","操作属性"),Object(i.a)(ye,"dataBind","数据绑定"),Object(i.a)(ye,"hidden","隐藏"),Object(i.a)(ye,"readonly","完全只读"),Object(i.a)(ye,"disabled","禁用"),Object(i.a)(ye,"editable","文本框可输入"),Object(i.a)(ye,"clearable","显示清除按钮"),Object(i.a)(ye,"arrowControl","使用箭头进行时间选择"),Object(i.a)(ye,"isDelete","删除"),Object(i.a)(ye,"isEdit","编辑"),Object(i.a)(ye,"showPassword","显示密码"),Object(i.a)(ye,"validate","校验"),Object(i.a)(ye,"required","必填"),Object(i.a)(ye,"patternPlaceholder","填写正则表达式"),Object(i.a)(ye,"newOption","新选项"),Object(i.a)(ye,"tab","标签页"),Object(i.a)(ye,"validatorRequired","必须填写"),Object(i.a)(ye,"validatorType","格式不正确"),Object(i.a)(ye,"validatorPattern","格式不匹配"),Object(i.a)(ye,"normalValidatorName","常规校验"),Object(i.a)(ye,"patternValidatorName","自定义正则"),Object(i.a)(ye,"errorExplain","自定义错误说明"),ye)},upload:{preview:"预览",edit:"替换",delete:"删除"}}};function xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a("0f59"),a("eb0d"),a("b20f");var je=function(e,t,a,i){a?(a("en-US",ke(ke({},a("en-US")),_e)),a("zh-CN",ke(ke({},a("zh-CN")),Oe)),e.config.lang=t):i?(i.setLocaleMessage("en-US",ke(ke({},i.messages["en-US"]),_e)),i.setLocaleMessage("zh-CN",ke(ke({},i.messages["zh-CN"]),Oe)),i.locale=t):(e.use(_.a),e.locale("en-US",ke(ke({},e.locale("en-US")),_e)),e.locale("zh-CN",ke(ke({},e.locale("zh-CN")),Oe)),e.config.lang=t)},$e=[F,ve,se],Ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lang:"zh-CN",locale:null,i18n:null};je(e,t.lang,t.locale,t.i18n),$e.forEach((function(t){t.install=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lang:"zh-CN",locale:null,i18n:null};je(e,t.lang,t.locale,t.i18n),e.component(se.name,se)},e.component(t.name,t)}))};"undefined"!=typeof window&&window.Vue&&Ce(window.Vue);var Pe={install:Ce,CodeRun:F,MakingForm:ve,GenerateForm:se};function Se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Se(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}o.default.use(_.a),o.default.use(O.a),o.default.use(k.a,{cssLabs:["https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css","https://cdn.jsdelivr.net/npm/element-ui@2.9.1/lib/theme-chalk/index.css"],jsLabs:["https://cdn.jsdelivr.net/npm/element-ui@2.9.1/lib/index.js"],row:!0,reverse:!0,height:"600px",open:!0,isHideHeader:!1});var Te={header:{title:"FormBuilder",document:"Docs"}},Ee={header:{title:"表单源码生成平台",document:"使用文档"}};o.default.locale("en-US",Me(Me({},$.a),Te)),o.default.locale("zh-CN",Me(Me({},P.a),Ee)),o.default.config.lang="zh-CN",o.default.use(w.a,{size:"small"}),o.default.use(Pe),o.default.config.productionTip=!1,new o.default({router:b,render:function(e){return e(s)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";a("e332")},"5cd6":function(e,t,a){},7501:function(e,t,a){},7987:function(e,t,a){},b20f:function(e,t,a){},c7f0:function(e,t,a){"use strict";a("8e6e"),a("ac6a"),a("456d");var i=a("bd86"),o=(a("20d6"),a("c5f6"),a("c82c")),n=a.n(o),l=a("b76a"),s=a.n(l),r=a("cea2");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a("0808");var p={components:{Draggable:s.a},props:{value:{type:Array,default:function(){return[]}},width:{type:Number,default:100},height:{type:Number,default:100},token:{type:String,default:""},domain:{type:String,default:""},multiple:{type:Boolean,default:!1},length:{type:Number,default:9},isQiniu:{type:Boolean,default:!1},isDelete:{type:Boolean,default:!1},min:{type:Number,default:0},meitu:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},action:{type:String,default:""},disabled:{type:Boolean,default:!1}},data:function(){return{fileList:this.value.map((function(e){return{key:e.key?e.key:(new Date).getTime()+"_"+Math.ceil(99999*Math.random()),url:e.url,percent:e.percent?e.percent:100,status:e.status?e.status:"success"}})),viewer:null,uploadId:"upload_"+(new Date).getTime(),editIndex:-1,meituIndex:-1}},computed:{miniWidth:function(){return this.width>this.height?this.height:this.width}},mounted:function(){this.$emit("input",this.fileList)},methods:{handleChange:function(){for(var e=this,t=this.$refs.uploadInput.files,a=function(a){var i=t[a],o=new FileReader,n=(new Date).getTime()+"_"+Math.ceil(99999*Math.random());o.readAsDataURL(i),o.onload=function(){e.editIndex>=0?(e.$set(e.fileList,e.editIndex,{key:n,url:o.result,percent:0,status:"uploading"}),e.editIndex=-1):e.fileList.push({key:n,url:o.result,percent:0,status:"uploading"}),e.$nextTick((function(){e.isQiniu?e.uplaodAction2(o.result,i,n):e.uplaodAction(o.result,i,n)}))}},i=0;i<t.length;i++)a(i);this.$refs.uploadInput.value=[]},uplaodAction:function(e,t,a){var i=this,o=(this.fileList.findIndex((function(e){return e.key===a})),new XMLHttpRequest),n=this.action;o.open("POST",n,!0);var l=new FormData;l.append("file",t),o.send(l),o.onreadystatechange=function(){if(4===o.readyState){var e=JSON.parse(o.response);e&&e.url?(i.$set(i.fileList,i.fileList.findIndex((function(e){return e.key===a})),c(c({},i.fileList[i.fileList.findIndex((function(e){return e.key===a}))]),{},{url:e.url,percent:100})),setTimeout((function(){i.$set(i.fileList,i.fileList.findIndex((function(e){return e.key===a})),c(c({},i.fileList[i.fileList.findIndex((function(e){return e.key===a}))]),{},{status:"success"})),i.$emit("input",i.fileList)}),200)):(i.$set(i.fileList,i.fileList.findIndex((function(e){return e.key===a})),c(c({},i.fileList[i.fileList.findIndex((function(e){return e.key===a}))]),{},{status:"error"})),i.fileList.splice(i.fileList.findIndex((function(e){return e.key===a})),1))}},o.onprogress=function(e){e.total&&e.loaded&&i.$set(i.fileList[i.fileList.findIndex((function(e){return e.key===a}))],"percent",e.loaded/e.total*100)}},uplaodAction2:function(e,t,a){var i=this;r.upload(t,a,this.token,{fname:a,mimeType:[]},{useCdnDomain:!0,region:r.region.z2}).subscribe({next:function(e){i.$set(i.fileList[i.fileList.findIndex((function(e){return e.key===a}))],"percent",parseInt(e.total.percent))},error:function(e){i.$set(i.fileList,i.fileList.findIndex((function(e){return e.key===a})),c(c({},i.fileList[i.fileList.findIndex((function(e){return e.key===a}))]),{},{status:"error"})),i.fileList.splice(i.fileList.findIndex((function(e){return e.key===a})),1)},complete:function(e){i.$set(i.fileList,i.fileList.findIndex((function(e){return e.key===a})),c(c({},i.fileList[i.fileList.findIndex((function(e){return e.key===a}))]),{},{url:i.domain+e.key,percent:100})),setTimeout((function(){i.$set(i.fileList,i.fileList.findIndex((function(e){return e.key===a})),c(c({},i.fileList[i.fileList.findIndex((function(e){return e.key===a}))]),{},{status:"success"})),i.$emit("input",i.fileList)}),200)}})},handleRemove:function(e){this.fileList.splice(this.fileList.findIndex((function(t){return t.key===e})),1)},handleEdit:function(e){this.editIndex=this.fileList.findIndex((function(t){return t.key===e})),this.$refs.uploadInput.click()},handleMeitu:function(e){this.$emit("on-meitu",this.fileList.findIndex((function(t){return t.key===e})))},handleAdd:function(){this.disabled||(this.editIndex=-1,this.$refs.uploadInput.click())},handlePreviewFile:function(e){var t=this;this.viewer&&this.viewer.destroy(),this.uploadId="upload_"+(new Date).getTime(),this.$nextTick((function(){t.viewer=new n.a(document.getElementById(t.uploadId)),t.viewer.view(t.fileList.findIndex((function(t){return t.key===e})))}))}},watch:{fileList:{deep:!0,handler:function(e){}}}},u=(a("3516"),a("2877")),m=Object(u.a)(p,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fm-uplaod-container",attrs:{id:e.uploadId}},[a("draggable",e._b({staticClass:"drag-img-list",attrs:{"no-transition-on-drag":!0},model:{value:e.fileList,callback:function(t){e.fileList=t},expression:"fileList"}},"draggable",{group:e.uploadId,ghostClass:"ghost",animation:200},!1),e._l(e.fileList,(function(t){return a("div",{key:t.key,staticClass:"upload-file",class:{uploading:"uploading"==t.status,"is-success":"success"==t.status,"is-diabled":e.disabled},style:{width:e.width+"px",height:e.height+"px"},attrs:{id:t.key}},[a("img",{attrs:{src:t.url}}),"uploading"==t.status?a("el-progress",{staticClass:"upload-progress",attrs:{width:.9*e.miniWidth,type:"circle",percentage:t.percent}}):e._e(),"success"==t.status?a("label",{staticClass:"item-status"},[a("i",{staticClass:"el-icon-upload-success el-icon-check"})]):e._e(),e.disabled?e._e():a("div",{staticClass:"uplaod-action",style:{height:e.miniWidth/4+"px"}},[a("i",{staticClass:"iconfont icon-tupianyulan",style:{"font-size":e.miniWidth/8+"px"},attrs:{title:e.$t("fm.upload.preview")},on:{click:function(a){return e.handlePreviewFile(t.key)}}}),e.isEdit?a("i",{staticClass:"iconfont icon-sync1",style:{"font-size":e.miniWidth/8+"px"},attrs:{title:e.$t("fm.upload.edit")},on:{click:function(a){return e.handleEdit(t.key)}}}):e._e(),e.isDelete&&e.fileList.length>e.min?a("i",{staticClass:"iconfont icon-delete",style:{"font-size":e.miniWidth/8+"px"},attrs:{title:e.$t("fm.upload.delete")},on:{click:function(a){return e.handleRemove(t.key)}}}):e._e()])],1)})),0),a("div",{directives:[{name:"show",rawName:"v-show",value:(!e.isQiniu||e.isQiniu&&e.token)&&e.fileList.length<e.length,expression:"(!isQiniu || (isQiniu && token)) && fileList.length < length"}],staticClass:"el-upload el-upload--picture-card",class:{"is-disabled":e.disabled},style:{width:e.width+"px",height:e.height+"px"},on:{click:function(t){return t.target!==t.currentTarget?null:e.handleAdd(t)}}},[a("i",{staticClass:"el-icon-plus",style:{fontSize:e.miniWidth/4+"px",marginTop:-e.miniWidth/8+"px",marginLeft:-e.miniWidth/8+"px"},on:{click:function(t){return t.target!==t.currentTarget?null:e.handleAdd(t)}}}),e.multiple?a("input",{ref:"uploadInput",staticClass:"el-upload__input upload-input",style:{width:0,height:0},attrs:{accept:"image/*",multiple:"",type:"file",name:"file"},on:{change:e.handleChange}}):a("input",{ref:"uploadInput",staticClass:"el-upload__input upload-input",style:{width:0,height:0},attrs:{accept:"image/*",type:"file",name:"file"},on:{change:e.handleChange}})])],1)}),[],!1,null,null,null);t.a=m.exports},ca11:function(e,t,a){},cf05:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABvUlEQVRoQ+2Zu0oEMRSGv6PiBbSwFBtfxFofQPAJBAvBUhYsRS3sBAtBSwsfRqxVLLQWFa+IOvJDVpZlx8FMMkuWBMLCzCaTL+c/l8wYJa0oihawXXa/4estM9vt9UyrAFgAZoGXhhfc/bgjM9v3AVgERoFp4L2PELUAxoBJ4A4o+gRxamYHvhZoA8gKl6kDTAFnfYAIZoFh4A14bBgiiA9IQgJ4AD5db4ojKMA98OSi0nxDBN55QGG004llgU6AL2CuAUlFs8A3oGQ4A7xGtEZUgCFgHNDvcySIQzM7CZEHuiUkC2jhE8CKmZ1HAiidtqoWqvKBDFDXYgNvgWVXjUrjKiMELEdVxPkA2hJSqN0DruruaMn4azO7+a8T6wCx6hY9AqirKQsr/mvxqk4FJUe+iBiFvGqhDBBQTl4W2ALWnTwkEeUAyUUSknzU1XRN/dZVqgHX/TvVsc+RMnkA+cBGjO30mNOrGk0eIHkJ7QBrKTtxzgMezlo2xCsPbAJLKddCermbzwMBZdRzqoE/D2QJZQlV7ED2gfxeqKaTZAllCWUJleyA+1KfM3FNhVQOz1EoR6FKkfz9h+Ql9AMULqdAUwjXZgAAAABJRU5ErkJggg=="},d7cd:function(e,t,a){"use strict";a("5cd6")},e332:function(e,t,a){},eb0d:function(e,t,a){}});